import{bj as E,c as M,bw as I,R as A,C,h as y,b as V,aY as R,ad as j,by as k,bm as v}from"./index.eab64f24.js";import{r as h,u as f,c as s,j as t,F as _}from"./vendor.e5394fe2.js";import{C as x}from"./index.10bd23ed.js";import"./index.fe1f8ee1.js";import{C as T}from"./index.5fd63571.js";import{S as Y}from"./Common.2b42caf6.js";import{P as z}from"./FormConstant.e31b09cf.js";import{I as B}from"./index.3b60095b.js";import{M as w}from"./MinusCircleOutlined.d2929b9f.js";import{S as H}from"./index.41d5f52d.js";import"./index.5156c0d7.js";import"./GlobalService.8d9bdba9.js";import"./index.8c8a84c0.js";import"./getDataOrAriaProps.08708643.js";const $="_current_1juf4_1",P="_active_1juf4_5",U="_formHorizontal_1juf4_9",O={current:$,active:P,formHorizontal:U},G="_current_16ipl_1",J="_active_16ipl_5",L="_formHorizontal_16ipl_9",Q="_groupInput_16ipl_13",F={current:G,active:J,formHorizontal:L,groupInput:Q},o=["pending","approve"],q=h.exports.forwardRef(({type:c,current:u,index:a},r)=>{const[m,d]=h.exports.useState(""),p=f();h.exports.useEffect(()=>{if(p.state){let e=r.current.getFieldsValue();e&&u==a&&d(e)}},[p,u]);const g=(e,n)=>{r.current.setFields([{name:Array.isArray(n)?[...n]:[n],value:e.target.value.toUpperCase()}])},l=()=>{let e=null;return c&&(+c==3?e=s(_,{children:[t(E.Item,{label:z.approve.fields.location.label,children:t(T.SelectProvince,{ref:r,label:"\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh",name:[...o,"location"],placeholder:"\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh"})}),t(W,{BASE_FORM:o,ref:r}),t(E.Item,{label:"T\u1ED5ng s\u1ED1 v\u1ED1n \u0111i\u1EC1u l\u1EC7",name:[...o,"total_capital"],children:t(B,{placeholder:"100,000,000",formatter:n=>`${new Intl.NumberFormat("en-US").format(n.replace(/,/g,""))}`,style:{width:"100%"}})})]}):+c==2&&(e=s(_,{children:[s(E.Item,{label:I("<b>\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh</b>"),children:[t(T.SelectProvince,{ref:r,label:"\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh",name:[...o,"location"],placeholder:"\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh"})," "]}),t(K,{BASE_FORM:o,ref:r})]}))),e};return s(E.Item,{className:M(F.groupInput,F.current,{[F.active]:u===a}),children:[t(x,{name:[...o,"company_name"],label:"Nh\u1EADp t\xEAn doanh nghi\u1EC7p",placeholder:"C\xD4NG TY TNHH D\u1ECACH V\u1EE4 T\u01AF V\u1EA4N WARREN B",onChange:e=>g(e,[...o,"company_name"])}),t(x,{name:[...o,"mst"],label:"M\xE3 s\u1ED1 doanh nghi\u1EC7p ho\u1EB7c M\xE3 s\u1ED1 thu\u1EBF",placeholder:"0316184427"}),t(x,{name:[...o,"org_person"],label:I("Ng\u01B0\u1EDDi \u0111\u1EA1i di\u1EC7n ph\xE1p lu\u1EADt <i>(nh\u1EADp \u0111\u1EA7y \u0111\u1EE7 h\u1ECD v\xE0 t\xEAn)</i>"),placeholder:"NGUY\u1EC4N V\u0102N A",onChange:e=>g(e,[...o,"org_person"])}),l(),t(x,{type:"select",name:[...o,"obj"],label:"Ch\u1ECDn \u0111\u1ED1i t\u01B0\u1EE3ng th\xF4ng b\xE1o t\u1EA1m ng\u01B0ng kinh doanh",onChange:(e,n)=>d(e),options:Y.BUSINESS_OBJECT,placeholder:"B\u1EA5m v\xE0o \u0111\xE2y"}),m==="Chi nh\xE1nh ho\u1EB7c V\u0103n ph\xF2ng \u0111\u1EA1i di\u1EC7n ho\u1EB7c \u0110\u1ECBa \u0111i\u1EC3m kinh doanh"&&s(_,{children:[t(x,{name:[...o,"branch_name"],label:s(_,{children:["Nh\u1EADp t\xEAn\xA0",t("i",{children:" (c\u1EE7a Chi nh\xE1nh ho\u1EB7c V\u0103n ph\xF2ng \u0111\u1EA1i di\u1EC7n ho\u1EB7c \u0110\u1ECBa \u0111i\u1EC3m kinh doanh)"})]}),placeholder:"CHI NH\xC1NH C\xD4NG TY TNHH D\u1ECACH V\u1EE4 T\u01AF V\u1EA4N WARREN B",onChange:e=>g(e,[...o,"branch_name"])}),t(x,{name:[...o,"resp_office"],label:s(_,{children:["Nh\u1EADp M\xE3 s\u1ED1\xA0",t("i",{children:" (c\u1EE7a Chi nh\xE1nh ho\u1EB7c V\u0103n ph\xF2ng \u0111\u1EA1i di\u1EC7n ho\u1EB7c \u0110\u1ECBa \u0111i\u1EC3m kinh doanh)"})]}),placeholder:"0316184427 - 001"})]}),t(E.Item,{label:s(_,{children:["Th\u1EDDi gian \u0111\u0103ng k\xFD t\u1EA1m ng\u1EEBng kinh doanh\xA0",t("i",{children:" (t\u1ED1i \u0111a 12 th\xE1ng, ng\xE0y b\u1EAFt \u0111\u1EA7u t\u1EA1m ng\u1EEBng sau \xEDt nh\u1EA5t 3 ng\xE0y l\xE0m vi\u1EC7c k\u1EC3 t\u1EEB ng\xE0y n\u1ED9p h\u1ED3 s\u01A1)"})]}),children:s(A,{gutter:[16,12],children:[t(C,{lg:12,md:24,sm:24,xs:24,children:t(x,{name:[...o,"time_range","start"],label:"T\u1EEB ng\xE0y",type:"date",layout:"horizontal",placeholder:"Ch\u1ECDn ng\xE0y",disabledDate:e=>e&&e<y().endOf("day")})}),t(C,{lg:12,md:24,sm:24,xs:24,children:t(x,{name:[...o,"time_range","end"],label:"\u0110\u1EBFn ng\xE0y",type:"date",layout:"horizontal",placeholder:"Ch\u1ECDn ng\xE0y",disabledDate:e=>{let n=r.current.getFieldValue([...o,"time_range","start"]);return e&&e<n.endOf("day")}})})]})})]})}),W=h.exports.forwardRef((c,u)=>{const{BASE_FORM:a}=c,[r,m]=h.exports.useState([{}]),d=f();h.exports.useEffect(()=>{var l;if(d.state){let e=(l=u.current)==null?void 0:l.getFieldValue([...a,"list_president"]);e.length&&p(e.length-1)}},[d]);const p=(l=1)=>{let e=[];for(let n=0;n<l;n++)e.push({});m([...r,...e])},g=l=>{var i;let e=JSON.parse(JSON.stringify(r));e.splice(l,1),m(e);let n=(i=u.current)==null?void 0:i.getFieldValue([...a,"list_president"]);n.splice(l,1),v([...a,"list_president"],n,u)};return t(E.Item,{label:"H\u1ED9i \u0111\u1ED3ng qu\u1EA3n tr\u1ECB",children:s(A,{gutter:[16,12],children:[r==null?void 0:r.map((l,e)=>t(C,{lg:12,md:12,sm:24,xs:24,children:t(V,{className:"box__shadow",size:"small",title:e===0?"T\xEAn Ch\u1EE7 t\u1ECBch H\u0110QT":`T\xEAn th\xE0nh vi\xEAn H\u0110QT ${e}`,extra:[t(R,{style:{display:"flex",justifyContent:"center"},children:r.length<=3?"":t(w,{onClick:()=>g(e)})})],children:t(A,{children:t(C,{span:24,children:t(x,{name:[...a,"list_president",e,"president"],placeholder:"NGUY\u1EC4N V\u0102N A"})})})})},[...a,"list_president",e,"president"])),r.length>=5?"":t(C,{lg:12,md:12,sm:24,xs:24,children:t(E.Item,{label:" ",children:t(j,{type:"dashed",onClick:()=>p(),block:!0,icon:t(k,{}),children:"Th\xEAm th\xE0nh vi\xEAn H\u0110QT (n\u1EBFu c\xF3)"})})})]})})}),K=h.exports.forwardRef((c,u)=>{const{BASE_FORM:a}=c,[r,m]=h.exports.useState([{},{}]),d=f();h.exports.useEffect(()=>{var l;if(d.state){let e=(l=u.current)==null?void 0:l.getFieldValue([...a,"contribute_members"]);e!=null&&e.length&&p(e.length-1)}},[d]);const p=(l=1)=>{let e=[];for(let n=0;n<l;n++)e.push({});m([...r,...e])},g=l=>{var i;let e=JSON.parse(JSON.stringify(r));e.splice(l,1),m(e);let n=(i=u.current)==null?void 0:i.getFieldValue([...a,"contribute_members"]);n.splice(l,1),v([...a,"contribute_members"],n,u)};return t(E.Item,{label:"H\u1ED9i \u0111\u1ED3ng th\xE0nh vi\xEAn",children:s(A,{gutter:[16,12],children:[r==null?void 0:r.map((l,e)=>t(C,{lg:12,md:12,sm:24,xs:24,children:t(V,{className:"box__shadow",size:"small",title:`T\xEAn th\xE0nh vi\xEAn g\xF3p v\u1ED1n th\u1EE9 ${e+1}`,extra:[t(R,{style:{display:"flex",justifyContent:"center"},children:r.length<=2?"":t(w,{onClick:()=>g(e)})})],children:s(A,{gutter:[16],children:[t(C,{span:24,children:t(x,{name:[...a,"contribute_members",e,"name"],label:"H\u1ECD v\xE0 T\xEAn",onChange:n=>{let i=[...a,"contribute_members",e,"name"];v(i,n.target.value,u,!0)}})}),t(C,{span:12,children:t(E.Item,{name:[...a,"contribute_members",e,"capital"],label:"V\u1ED1n g\xF3p",children:t(B,{style:{width:"100%"},placeholder:"80,000,000",formatter:n=>`${new Intl.NumberFormat("en-US").format(n.replace(/,/g,""))}`,stringMode:!0})})}),t(C,{span:12,children:t(E.Item,{name:[...a,"contribute_members",e,"capital_percent"],label:"Chi\u1EBFm % v\u1ED1n \u0111i\u1EC1u l\u1EC7",children:t(B,{style:{width:"100%"},max:100,min:0,length:3,placeholder:"80%",formatter:n=>`${n.replace("%","")}%`,stringMode:!0})})})]})})},[...a,"contribute_members",e,"president"])),r.length>=5?"":t(C,{lg:12,md:12,sm:24,xs:24,children:t(E.Item,{label:" ",children:t(j,{className:"box__shadow",type:"dashed",onClick:()=>p(),block:!0,icon:t(k,{}),children:"Th\xEAm th\xE0nh vi\xEAn g\xF3p v\u1ED1n (n\u1EBFu c\xF3)"})})})]})})}),he=h.exports.forwardRef((c,u)=>{var g;const[a,r]=h.exports.useState({type:1,value:"",name:""}),m=f();h.exports.useEffect(()=>{m.state&&d()},[m]);const d=()=>{var N,S;let{state:l}=m,e={},{category:n,data:i}=l;if(!!n){if(e.category={type:n.type,value:n._id,name:n.name},i){let D=(N=i==null?void 0:i.pending)==null?void 0:N.approve;if(D){let{time_range:b}=D;b&&(b.start=y(b.start,"YYYY-MM-DD"),b.end=y(b.end,"YYYY-MM-DD")),D={...D,time_range:b}}e.pending={approve:D}}console.log(e),r(e.category),(S=u.current)==null||S.setFieldsValue({...e})}},p=({type:l,value:e,name:n},i)=>{r({type:l,value:e,name:n}),u.current.setFields([{name:[i],value:{type:l,value:e,name:n}}]),c.onFinishScreen&&c.onFinishScreen({type:l,value:e,name:n})};return s(E,{ref:u,layout:"vertical",children:[t(E.Item,{name:"category",label:"Ch\u1ECDn lo\u1EA1i h\xECnh doanh nghi\u1EC7p",required:!0,className:M(O.current,{[O.active]:c.current===0}),children:t(H,{onChange:(l,e)=>p(e,"category"),placeholder:"B\u1EA5m v\xE0o \u0111\xE2y",children:(g=c.data)==null?void 0:g.map(l=>t(H.Option,{value:l._id,...l,children:l.name},l._id))})}),t(q,{ref:u,current:c.current,index:1,type:a==null?void 0:a.type})]})});export{he as default};
