import{C as B}from"./index.f5da86e5.js";import{aV as p,bm as C,bj as D,R as I,C as N,ab as T,bx as O,aY as K}from"./index.bd197d1a.js";import{a as s,d as w,F as R,j as l}from"./vendor.aa9f5085.js";import{G as A}from"./GlobalService.8b4e5eef.js";import{S as f}from"./index.e14e48dc.js";import{i as P}from"./isEqual.31b5dcfb.js";import{R as y}from"./index.e2e19752.js";const _="_newLine_1r2hc_1",j={newLine:_},{Option:F}=f,G=s.exports.forwardRef((e,n)=>{const{data:i}=p({cacheName:["careerData","province"],fn:()=>A.getProvince()}),[r,o]=s.exports.useState({code:null,wards:null}),[E,c]=s.exports.useState([]),[m,v]=s.exports.useState([]),t=e==null?void 0:e.name;s.exports.useEffect(()=>{b(r)},[r]),s.exports.useEffect(()=>{var a;if(e.data){let{pathName:u,value:d}=e==null?void 0:e.data;C([...u],d,n)}else{let u=(a=n==null?void 0:n.current)==null?void 0:a.getFieldValue([...t]);C([...t],u,n)}},[]);const h=(a,u)=>{var L;let d=((L=e.data)==null?void 0:L.pathName)||t;C([...d,"city"],u.name,n),o({code:a,ward:null}),[[...d,"district"],[...d,"town"]].forEach(V=>C([...V],null,n))},x=(a,u)=>{var S;let d=((S=e.data)==null?void 0:S.pathName)||t;C([...d,"district"],u.name,n),o(L=>({...L,wards:a}))},g=(a,u)=>{var S;let d=((S=e.data)==null?void 0:S.pathName)||t;C([...d,"town"],u.name,n)},b=async({code:a=null,wards:u=null}={})=>{try{if(!a)return;let d=await A.getProvince({code:a,wards:u}),{data:S}=d.data;if(d&&a)return u?v(S):c(S)}catch(d){console.log("getScreenData err: "+d)}};return i?w(R,{children:[l(D.Item,{name:[...t,"city"],placeholder:e.placeholder,label:"T\u1EC9nh/Th\xE0nh ph\u1ED1",children:l(f,{showSearch:!0,onChange:(a,u)=>h(a,u),optionFilterProp:"children",allowClear:!0,filterOption:(a,u)=>{var d;return((d=u.children)==null?void 0:d.toLowerCase().indexOf(a.toLowerCase()))>=0},children:i==null?void 0:i.map(a=>l(F,{name:a.name,value:a.code,children:a.name},[a.code,a.codename]))})}),l(D.Item,{label:"Qu\u1EADn/Huy\u1EC7n/Th\u1ECB x\xE3/Th\xE0nh ph\u1ED1 thu\u1ED9c t\u1EC9nh",name:[...t,"district"],children:l(f,{placeholder:e.placeholder,onChange:(a,u)=>x(a,u),optionFilterProp:"children",showSearch:!0,allowClear:!0,filterOption:(a,u)=>{var d;return((d=u.children)==null?void 0:d.toLowerCase().indexOf(a.toLowerCase()))>=0},children:E.map(a=>l(F,{name:a.name,value:a.code,children:a.name},[a.code,a.codename]))})}),l(D.Item,{label:"X\xE3/Ph\u01B0\u1EDDng/Th\u1ECB tr\u1EA5n",name:[...t,"town"],children:l(f,{placeholder:e.placeholder,onChange:(a,u)=>g(a,u),showSearch:!0,optionFilterProp:"children",allowClear:!0,filterOption:(a,u)=>{var d;return((d=u.children)==null?void 0:d.toLowerCase().indexOf(a.toLowerCase()))>=0},children:m.map(a=>l(F,{name:a.name,value:a.code,children:a.name},[a.code,a.codename]))})}),l(B,{label:"S\u1ED1 nh\xE0, ng\xE1ch, h\u1EBBm, ng\xF5, \u0111\u01B0\u1EDDng ph\u1ED1/t\u1ED5/x\xF3m/\u1EA5p/th\xF4n",name:[...t,"address"],placeholder:"27 Nguy\u1EC5n H\u1EEFu Th\u1ECD"})]}):"loading"}),H=s.exports.forwardRef((e,n)=>{var E;const[i,r]=s.exports.useState(!1);s.exports.useEffect(()=>{let c=e.name;e.pathName&&(c=e.pathName),n.current.getFieldValue([...c])},[n]);const o=(c,m)=>{c===1?r(!0):(n.current.setFields([{name:[...e.name],value:c}]),r(!1))};return l(D.Item,{name:[...e.name],label:e.label,children:w(I,{children:[l(N,{span:i?8:24,style:{padding:0},children:w(f,{placeholder:e.placeholder,onChange:(c,m)=>o(c),children:[e.options&&((E=e==null?void 0:e.options)==null?void 0:E.map((c,m)=>l(F,{value:c.value,children:c.name},[c.value,m,Math.random()])))||[],l(F,{value:1,children:"Kh\xE1c"})]})}),l(N,{span:i?16:0,children:i&&l(T,{onChange:c=>n.current.setFields([{name:[...e.name],value:c.target.value}])})})]})})}),U=s.exports.forwardRef((e,n)=>{const[i,r]=s.exports.useState(1),[o,E]=s.exports.useState(""),c="Kinh";s.exports.useEffect(()=>{var x,g,b;let t=((x=e.data)==null?void 0:x.pathName)||e.name,h=((g=e.data)==null?void 0:g.value)||((b=n==null?void 0:n.current)==null?void 0:b.getFieldValue([...t]));h&&h!==c?(r(2),E(h),C(t,h,n)):(r(1),C(t,c,n))},[e]);const m=(t,h)=>{let x=e.name;e.data&&(x=e.data.pathName),t===1?(n.current.setFields([{name:[...x],value:c}]),r(1)):r(2)},v=t=>{let h=e.name;e.data&&(h=e.data.pathName),E(t.target.value),n.current.setFields([{name:[...h],value:t.target.value}])};return l(D.Item,{name:[...e.name],label:e.label,dependencies:e.dependencies,children:w(I,{children:[l(N,{span:i===2?8:24,style:{padding:0},children:w(f,{value:i,placeholder:e.placeholder,onChange:(t,h)=>m(t),children:[l(F,{value:1,children:c}),l(F,{value:2,children:"Kh\xE1c"})]})}),l(N,{span:i===2?16:0,children:i===2&&l(T,{value:o,onChange:t=>v(t)})})]})})}),Q=s.exports.forwardRef((e,n)=>{const[i,r]=s.exports.useState(1),[o,E]=s.exports.useState(""),c="C\u1EE5c C\u1EA3nh S\xE1t Qu\u1EA3n L\xFD H\xE0nh Ch\xEDnh V\u1EC1 Tr\u1EADt T\u1EF1 X\xE3 H\u1ED9i";s.exports.useEffect(()=>{var x,g;let t=((x=e.data)==null?void 0:x.pathName)||e.name,h=((g=e.data)==null?void 0:g.value)||n.current.getFieldValue([...t]);h&&h!==c?(r(2),E(h),C(t,h,n)):(r(1),C(t,c,n))},[e]);const m=(t,h)=>{var g;let x=((g=e.data)==null?void 0:g.pathName)||e.name;r(t),t===1&&n.current.setFields([{name:[...x],value:c}])},v=t=>{var x;let h=((x=e.data)==null?void 0:x.pathName)||e.name;E(t.target.value),n.current.setFields([{name:[...h],value:t.target.value}])};return l(D.Item,{name:[...e.name],label:e.label,children:w(I,{children:[l(N,{span:i===2?8:24,style:{padding:0},children:w(f,{placeholder:e.placeholder,onChange:(t,h)=>m(t),value:i,children:[l(F,{value:1,children:c}),l(F,{value:2,children:"Kh\xE1c"})]})}),l(N,{span:i===2?16:0,children:i===2&&l(T,{onChange:t=>v(t),value:o})})]})})}),W=s.exports.forwardRef((e,n)=>{const{prevField:i,nextField:r}=e,[o,E]=s.exports.useState(null);s.exports.useEffect(()=>{let m=n.current.getFieldValue(i),v=n.current.getFieldValue(r);P(m,v)&&v?E(1):E(v?2:null)},[]);const c=m=>{if(E(m.target.value),m.target.value===1){let v=n.current.getFieldValue(i);C(r,v,n)}};return l(D.Item,{label:O((e==null?void 0:e.label)||"<b>\u0110\u1ECBa ch\u1EC9 li\xEAn l\u1EA1c <i>(\u0110DPL)</i><b>"),className:j.newLine,shouldUpdate:()=>{let m=o===1;if(m){let v=n.current.getFieldValue(i),t=n.current.getFieldValue(r);P(v,t)||C(r,v,n)}return!m},children:()=>w(R,{children:[l(y.Group,{onChange:c,value:o,children:w(K,{direction:"vertical",children:[l(y,{value:1,children:"Gi\u1ED1ng v\u1EDBi \u0111\u1ECBa ch\u1EC9 th\u01B0\u1EDDng tr\xFA"}),l(y,{value:2,children:"Kh\xE1c"})]})}),l("div",{style:{padding:"8px 0",opacity:o&&o===2?"1":"0",visibility:o&&o===2?"visible":"hidden",display:o&&o===2?"block":"none"},children:l(X.SelectProvince,{ref:n,name:r})})]})})}),X={SelectProvince:G,SelectPersonType:U,SelectDocProvide:Q,SelectTitle:H,RadioAddress:W};export{X as C};
