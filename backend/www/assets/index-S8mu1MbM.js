import{i as p,r as l,ae as C,j as t,af as y,c as w,B as U,M as b,m}from"./index-XD4JDM6b.js";import{C as S}from"./index-akrSOs4w.js";import{T as s}from"./Table-UH30mYPz.js";import"./dropdown-D6H3nMuz.js";import"./index-gcWtjv3K.js";import"./index-Rc3KqxQe.js";const g={getUser:"/admin/user",deleteUser:"/admin/delete"},u={getUser:r=>p.post(g.getUser,r),deleteUser:r=>p.post(`${g.deleteUser}/${r}`)},W="_inline_1ivfs_1",N="_pagination_1ivfs_11",E="_tableWrapper_1ivfs_17",z="_contentWrapper_1ivfs_30",i={inline:W,pagination:N,tableWrapper:E,contentWrapper:z},A=l.lazy(()=>C(()=>import("./index-n8TiZ9Qh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),R=()=>{const[r,o]=l.useState(!1),[c,h]=l.useState([]);l.useEffect(()=>{d()},[]);const x={current:c.current_page,pageSize:10,total:c.count,onChange:(a,e)=>{d(a)},showSizeChanger:!1},d=async(a=null)=>{try{o(!0);let e={page:a||1},n=await u.getUser(e),{status:j,data:v}=n.data;j===200&&h(v)}catch{}finally{o(!1)}},_=a=>{b.confirm({title:"Warning",content:`Bạn có chắc chắn muốn xóa user ${a.name}?`,onOk:f})},f=async a=>{try{o(!0);let e=await u.deleteUser(a._id);e.data.status===200?m.success(e.data.message):m.error(e.data.message)}catch{}finally{await d()}};return t.jsxs(t.Fragment,{children:[t.jsx(y,{children:t.jsx(A,{title:"Quản lý người dùng"})}),t.jsxs("div",{className:i.contentWrapper,children:[t.jsx("div",{className:w([i.tableWrapper,"box__shadow"]),children:t.jsxs(s,{bordered:!0,size:"small",loading:{spinning:r,tip:"Loading...",delay:100},dataSource:c._user,pagination:!1,rowKey:a=>a._id,children:[t.jsx(s.Column,{title:"Tên người dùng",className:i.inline,width:"25%",render:(a,e,n)=>e.name}),t.jsx(s.Column,{className:i.inline,title:"Email",render:(a,e,n)=>e.email}),t.jsx(s.Column,{title:"Số điện thoại",width:"120px",className:i.inline,render:(a,e,n)=>e.phone}),t.jsx(s.Column,{title:"Role",width:"80px",render:(a,e,n)=>e.role}),t.jsx(s.Column,{title:"Ngày khởi tạo",render:(a,e,n)=>t.jsx("span",{style:{display:"block",width:150},children:e.createdAt.substring(0,10)})}),t.jsx(s.Column,{title:"",width:"80px",render:(a,e,n)=>t.jsx(U,{onClick:()=>_(e),children:"Xóa"})})]})}),t.jsx("div",{className:i.pagination,children:t.jsx(S,{...x})})]})]})};export{R as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-n8TiZ9Qh.js","assets/index-XD4JDM6b.js","assets/index-vhdyNjOD.css","assets/index--frXZXQx.js","assets/index-ehUL30Ed.js","assets/index-gcWtjv3K.js","assets/dropdown-D6H3nMuz.js","assets/MoreOutlined-kX5gnkaD.js","assets/index-ybWms7Bc.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}