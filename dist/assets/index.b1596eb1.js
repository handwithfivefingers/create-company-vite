import{bj as E,c as M,bx as T,R as f,C as b,a as R,aY as V,ac as j,bz as k,bm as v,h as B}from"./index.bd197d1a.js";import{a as h,u as F,d as s,j as e,F as D}from"./vendor.aa9f5085.js";import{C}from"./index.f5da86e5.js";import"./index.5151382c.js";import{C as I}from"./index.c5f88f51.js";import{S as Y}from"./Common.2b42caf6.js";import{P as z}from"./FormConstant.e31b09cf.js";import{I as N}from"./index.5448d220.js";import{M as w}from"./MinusCircleOutlined.a925faf6.js";import{S as H}from"./index.e14e48dc.js";import"./index.9dabc2c1.js";import"./GlobalService.8b4e5eef.js";import"./isEqual.31b5dcfb.js";import"./index.e2e19752.js";import"./getDataOrAriaProps.08708643.js";const $="_current_1juf4_1",P="_active_1juf4_5",U="_formHorizontal_1juf4_9",O={current:$,active:P,formHorizontal:U},G="_current_16ipl_1",J="_active_16ipl_5",L="_formHorizontal_16ipl_9",Q="_groupInput_16ipl_13",y={current:G,active:J,formHorizontal:L,groupInput:Q},i=["pending","approve"],q=h.exports.forwardRef(({type:c,current:o,index:u},r)=>{const[m,p]=h.exports.useState(""),g=F();h.exports.useEffect(()=>{if(g.state){let n=r.current.getFieldsValue();n&&o==u&&p(n)}},[g,o]);const x=(n,d)=>{r.current.setFields([{name:Array.isArray(d)?[...d]:[d],value:n.target.value.toUpperCase()}])},a=()=>{let n=null;return c&&(+c==3?n=s(D,{children:[e(E.Item,{label:z.approve.fields.location.label,children:e(I.SelectProvince,{ref:r,label:"\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh",name:[...i,"location"],placeholder:"\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh"})}),e(W,{BASE_FORM:i,ref:r}),e(E.Item,{label:"T\u1ED5ng s\u1ED1 v\u1ED1n \u0111i\u1EC1u l\u1EC7",name:[...i,"total_capital"],children:e(N,{placeholder:"100,000,000",formatter:d=>`${new Intl.NumberFormat("en-US").format(d.replace(/,/g,""))}`,style:{width:"100%"}})})]}):+c==2&&(n=s(D,{children:[s(E.Item,{label:T("<b>\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh</b>"),children:[e(I.SelectProvince,{ref:r,label:"\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh",name:[...i,"location"],placeholder:"\u0110\u1ECBa ch\u1EC9 tr\u1EE5 s\u1EDF ch\xEDnh"})," "]}),e(K,{BASE_FORM:i,ref:r})]}))),n},t=n=>{let d=r.current.getFieldValue([...i,"time_range","start"]);return n&&n<d.endOf("day")},l=n=>n&&n<B().endOf("day");return s(E.Item,{className:M(y.groupInput,y.current,{[y.active]:o===u}),children:[e(C,{name:[...i,"company_name"],label:"Nh\u1EADp t\xEAn doanh nghi\u1EC7p",placeholder:"C\xD4NG TY TNHH D\u1ECACH V\u1EE4 T\u01AF V\u1EA4N WARREN B",onChange:n=>x(n,[...i,"company_name"])}),e(C,{name:[...i,"mst"],label:"M\xE3 s\u1ED1 doanh nghi\u1EC7p ho\u1EB7c M\xE3 s\u1ED1 thu\u1EBF",placeholder:"0316184427"}),e(C,{name:[...i,"org_person"],label:T("Ng\u01B0\u1EDDi \u0111\u1EA1i di\u1EC7n ph\xE1p lu\u1EADt <i>(nh\u1EADp \u0111\u1EA7y \u0111\u1EE7 h\u1ECD v\xE0 t\xEAn)</i>"),placeholder:"NGUY\u1EC4N V\u0102N A",onChange:n=>x(n,[...i,"org_person"])}),a(),e(C,{type:"select",name:[...i,"obj"],label:"Ch\u1ECDn \u0111\u1ED1i t\u01B0\u1EE3ng th\xF4ng b\xE1o t\u1EA1m ng\u01B0ng kinh doanh",onChange:(n,d)=>p(n),options:Y.BUSINESS_OBJECT,placeholder:"B\u1EA5m v\xE0o \u0111\xE2y"}),m==="Chi nh\xE1nh ho\u1EB7c V\u0103n ph\xF2ng \u0111\u1EA1i di\u1EC7n ho\u1EB7c \u0110\u1ECBa \u0111i\u1EC3m kinh doanh"&&s(D,{children:[e(C,{name:[...i,"branch_name"],label:s(D,{children:["Nh\u1EADp t\xEAn\xA0",e("i",{children:" (c\u1EE7a Chi nh\xE1nh ho\u1EB7c V\u0103n ph\xF2ng \u0111\u1EA1i di\u1EC7n ho\u1EB7c \u0110\u1ECBa \u0111i\u1EC3m kinh doanh)"})]}),placeholder:"CHI NH\xC1NH C\xD4NG TY TNHH D\u1ECACH V\u1EE4 T\u01AF V\u1EA4N WARREN B",onChange:n=>x(n,[...i,"branch_name"])}),e(C,{name:[...i,"resp_office"],label:s(D,{children:["Nh\u1EADp M\xE3 s\u1ED1\xA0",e("i",{children:" (c\u1EE7a Chi nh\xE1nh ho\u1EB7c V\u0103n ph\xF2ng \u0111\u1EA1i di\u1EC7n ho\u1EB7c \u0110\u1ECBa \u0111i\u1EC3m kinh doanh)"})]}),placeholder:"0316184427 - 001"})]}),e(E.Item,{label:s(D,{children:["Th\u1EDDi gian \u0111\u0103ng k\xFD t\u1EA1m ng\u1EEBng kinh doanh\xA0",e("i",{children:" (t\u1ED1i \u0111a 12 th\xE1ng, ng\xE0y b\u1EAFt \u0111\u1EA7u t\u1EA1m ng\u1EEBng sau \xEDt nh\u1EA5t 3 ng\xE0y l\xE0m vi\u1EC7c k\u1EC3 t\u1EEB ng\xE0y n\u1ED9p h\u1ED3 s\u01A1)"})]}),children:s(f,{gutter:[16,12],children:[e(b,{lg:12,md:24,sm:24,xs:24,children:e(C,{name:[...i,"time_range","start"],label:"T\u1EEB ng\xE0y",type:"date",layout:"horizontal",placeholder:"15/01/2022 - ENTER",disabledDate:l})}),e(b,{lg:12,md:24,sm:24,xs:24,children:e(C,{name:[...i,"time_range","end"],label:"\u0110\u1EBFn ng\xE0y",type:"date",layout:"horizontal",placeholder:"15/01/2023 - ENTER",disabledDate:t})})]})})]})}),W=h.exports.forwardRef((c,o)=>{const{BASE_FORM:u}=c,[r,m]=h.exports.useState([{}]),p=F();h.exports.useEffect(()=>{var a;if(p.state){let t=(a=o.current)==null?void 0:a.getFieldValue([...u,"list_president"]);t.length&&g(t.length-1)}},[p]);const g=(a=1)=>{let t=[];for(let l=0;l<a;l++)t.push({});m([...r,...t])},x=a=>{var n;let t=JSON.parse(JSON.stringify(r));t.splice(a,1),m(t);let l=(n=o.current)==null?void 0:n.getFieldValue([...u,"list_president"]);l.splice(a,1),v([...u,"list_president"],l,o)};return e(E.Item,{label:"H\u1ED9i \u0111\u1ED3ng qu\u1EA3n tr\u1ECB",children:s(f,{gutter:[16,12],children:[r==null?void 0:r.map((a,t)=>e(b,{lg:12,md:12,sm:24,xs:24,children:e(R,{className:"box__shadow",size:"small",title:t===0?"T\xEAn Ch\u1EE7 t\u1ECBch H\u0110QT":`T\xEAn th\xE0nh vi\xEAn H\u0110QT ${t}`,extra:[e(V,{style:{display:"flex",justifyContent:"center"},children:r.length<=3?"":e(w,{onClick:()=>x(t)})})],children:e(f,{children:e(b,{span:24,children:e(C,{name:[...u,"list_president",t,"president"],placeholder:"NGUY\u1EC4N V\u0102N A"})})})})},[...u,"list_president",t,"president"])),r.length>=5?"":e(b,{lg:12,md:12,sm:24,xs:24,children:e(E.Item,{label:" ",children:e(j,{type:"dashed",onClick:()=>g(),block:!0,icon:e(k,{}),children:"Th\xEAm th\xE0nh vi\xEAn H\u0110QT (n\u1EBFu c\xF3)"})})})]})})}),K=h.exports.forwardRef((c,o)=>{const{BASE_FORM:u}=c,[r,m]=h.exports.useState([{},{}]),p=F();h.exports.useEffect(()=>{var a;if(p.state){let t=(a=o.current)==null?void 0:a.getFieldValue([...u,"contribute_members"]);t!=null&&t.length&&g(t.length-1)}},[p]);const g=(a=1)=>{let t=[];for(let l=0;l<a;l++)t.push({});m([...r,...t])},x=a=>{var n;let t=JSON.parse(JSON.stringify(r));t.splice(a,1),m(t);let l=(n=o.current)==null?void 0:n.getFieldValue([...u,"contribute_members"]);l.splice(a,1),v([...u,"contribute_members"],l,o)};return e(E.Item,{label:"H\u1ED9i \u0111\u1ED3ng th\xE0nh vi\xEAn",children:s(f,{gutter:[16,12],children:[r==null?void 0:r.map((a,t)=>e(b,{lg:12,md:12,sm:24,xs:24,children:e(R,{className:"box__shadow",size:"small",title:`T\xEAn th\xE0nh vi\xEAn g\xF3p v\u1ED1n th\u1EE9 ${t+1}`,extra:[e(V,{style:{display:"flex",justifyContent:"center"},children:r.length<=2?"":e(w,{onClick:()=>x(t)})})],children:s(f,{gutter:[16],children:[e(b,{span:24,children:e(C,{name:[...u,"contribute_members",t,"name"],label:"H\u1ECD v\xE0 T\xEAn",onChange:l=>{let n=[...u,"contribute_members",t,"name"];v(n,l.target.value,o,!0)}})}),e(b,{span:12,children:e(E.Item,{name:[...u,"contribute_members",t,"capital"],label:"V\u1ED1n g\xF3p",children:e(N,{style:{width:"100%"},placeholder:"80,000,000",formatter:l=>`${new Intl.NumberFormat("en-US").format(l.replace(/,/g,""))}`,stringMode:!0})})}),e(b,{span:12,children:e(E.Item,{name:[...u,"contribute_members",t,"capital_percent"],label:"Chi\u1EBFm % v\u1ED1n \u0111i\u1EC1u l\u1EC7",children:e(N,{style:{width:"100%"},max:100,min:0,length:3,placeholder:"80%",formatter:l=>`${l.replace("%","")}%`,stringMode:!0})})})]})})},[...u,"contribute_members",t,"president"])),r.length>=5?"":e(b,{lg:12,md:12,sm:24,xs:24,children:e(E.Item,{label:" ",children:e(j,{className:"box__shadow",type:"dashed",onClick:()=>g(),block:!0,icon:e(k,{}),children:"Th\xEAm th\xE0nh vi\xEAn g\xF3p v\u1ED1n (n\u1EBFu c\xF3)"})})})]})})}),me=h.exports.forwardRef((c,o)=>{var x;const[u,r]=h.exports.useState({type:1,value:"",name:""}),m=F();h.exports.useEffect(()=>{m.state&&p()},[m]);const p=()=>{var d,S;let{state:a}=m,t={},{category:l,data:n}=a;if(!!l){if(t.category={type:l.type,value:l._id,name:l.name},n){let A=(d=n==null?void 0:n.pending)==null?void 0:d.approve;if(A){let{time_range:_}=A;_&&(_.start=B(_.start,"YYYY-MM-DD"),_.end=B(_.end,"YYYY-MM-DD")),A={...A,time_range:_}}t.pending={approve:A}}console.log(t),r(t.category),(S=o.current)==null||S.setFieldsValue({...t})}},g=({type:a,value:t,name:l},n)=>{r({type:a,value:t,name:l}),o.current.setFields([{name:[n],value:{type:a,value:t,name:l}}]),c.onFinishScreen&&c.onFinishScreen({type:a,value:t,name:l})};return s(E,{ref:o,layout:"vertical",children:[e(E.Item,{name:"category",label:"Ch\u1ECDn lo\u1EA1i h\xECnh doanh nghi\u1EC7p",required:!0,className:M(O.current,{[O.active]:c.current===0}),children:e(H,{onChange:(a,t)=>g(t,"category"),placeholder:"B\u1EA5m v\xE0o \u0111\xE2y",children:(x=c.data)==null?void 0:x.map(a=>e(H.Option,{value:a._id,...a,children:a.name},a._id))})}),e(q,{ref:o,current:c.current,index:1,type:u==null?void 0:u.type})]})});export{me as default};
