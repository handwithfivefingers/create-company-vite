import{A as T}from"./index.d06eb9d4.js";import{C as r}from"./index.f5da86e5.js";import{i as E,bj as u,R as _,C as f,ac as S,bm as k,ad as y,T as b}from"./index.bd197d1a.js";import{A as R}from"./AdminMailService.3e8f1300.js";import{a as s,j as t,d as h,F}from"./vendor.aa9f5085.js";import"./MoreOutlined.9f2b74f2.js";import"./index.5448d220.js";import"./index.e14e48dc.js";import"./index.9dabc2c1.js";const A={emailSetting:"/admin/email/setting"},x={getSetting:()=>E.get(A.emailSetting),updateSetting:e=>E.post(A.emailSetting,e)},v="_container_bluch_1",B={container:v},{TabPane:I}=b,P=s.exports.forwardRef((e,c)=>t(u,{onFinish:e==null?void 0:e.passwordSubmit,ref:c,layout:"vertical",children:h(u.Item,{label:t("h3",{children:"\u0110\u1ED5i m\u1EADt kh\u1EA9u"}),children:[h(_,{gutter:[12,16],children:[h(f,{span:8,children:[t(r,{type:"password",name:"old_password",label:"M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i",placeholder:"********"}),t(r,{type:"password",name:"new_password",label:"M\u1EADt kh\u1EA9u m\u1EDBi",placeholder:"********"}),t(r,{type:"password",name:"confirm_password",label:"X\xE1c nh\u1EADn m\u1EADt kh\u1EA9u m\u1EDBi",placeholder:"********"})]}),t(f,{span:16})]}),t(u.Item,{children:t(S,{htmlType:"submit",loading:e==null?void 0:e.loading,type:"primary",children:"X\xE1c nh\u1EADn"})})]})})),j=s.exports.forwardRef((e,c)=>{s.exports.useEffect(()=>{let{_id:n,...o}=e==null?void 0:e.settingMail;if(o)for(let m in o)k([m],o[m]._id,c)},[e]);const l=()=>{let n=[];return n=e.options.map(({_id:o,name:m})=>({value:o,name:m})),n};return t(u,{ref:c,onFinish:e.mailSubmit,layout:"vertical",children:h(u.Item,{label:t("h3",{children:"C\xE0i \u0111\u1EB7t mail"}),children:[t(r,{type:"select",label:"Mail \u0111\u0103ng k\xED",name:"mailRegister",options:l()}),t(r,{type:"select",label:"Mail Qu\xEAn m\u1EADt kh\u1EA9u",name:"mailForgotPass",options:l()}),t(r,{type:"select",label:"Mail h\u1ED3 s\u01A1 sau khi thanh to\xE1n",name:"mailPayment",options:l()}),t(r,{type:"select",label:"Mail Thanh To\xE1n Th\xE0nh C\xF4ng",name:"mailPaymentSuccess",options:l()}),t(u.Item,{children:t(S,{htmlType:"submit",loading:e==null?void 0:e.loading,children:"X\xE1c nh\u1EADn"})})]})})}),J=()=>{const e=s.exports.useRef(),c=s.exports.useRef(),[l,n]=s.exports.useState(!1),[o,m]=s.exports.useState([]),[p,w]=s.exports.useState({});s.exports.useEffect(()=>{C(),g()},[]);const D=a=>{console.log(a)},M=async a=>{try{n(!0);let i=await x.updateSetting({...a});y.success(i.data.message)}catch(i){console.log(i)}finally{g()}},C=async(a=1)=>{n(!0);let i={page:a};try{let d=await R.getTemplate(i);d.data.status===200?m(d.data.data._template):y.error(d.data.message)}catch(d){console.log(d)}finally{n(!1)}},g=async()=>{try{n(!0);let a=await x.getSetting(),{data:i}=a.data;w(i)}catch(a){console.log(a)}finally{n(!1)}};return h(F,{children:[t(T,{title:"C\xE0i \u0111\u1EB7t"}),t(b,{defaultActiveKey:"1",children:[{name:"\u0110\u1ED5i m\u1EADt kh\u1EA9u",content:t(P,{passwordSubmit:D,ref:e,loading:l})},{name:"Mail",content:t(j,{mailSubmit:M,ref:c,options:o,settingMail:p,loading:l})}].map((a,i)=>t(I,{tab:a.name,className:B.container,children:a.content},[a.name,i]))})]})};export{J as default};
