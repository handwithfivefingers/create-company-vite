import{r as g,J as qe,t as Ie,s as K,x as ge,F as o,j as e,R as P,ba as He,C as c,l as ke,B as se,bY as Be,a2 as $,bU as x,bV as oe,ae as ze,ak as $e,c as G,bR as k,bT as R,b$ as ie,b as Ge,g as Ue,h as A,bX as Re,a as X,bp as re,I as We,az as Ke,bZ as we,bs as Qe,al as Je,u as Xe,o as z,c0 as pe}from"./index-XD4JDM6b.js";import{V as Ze}from"./InputValidate-jV_t71oq.js";import{P as Ne}from"./index-52Xb7zQV.js";import{C as L}from"./index-gQ4A6Ldr.js";import{M as je}from"./MinusCircleOutlined-OyZX2Wh6.js";import{C as le,a as ye,b as be,c as ve,e as fe,d as Ce}from"./index-7vcF2zEs.js";import{S as I}from"./Common-NVt6K1ML.js";var en=function(n,r){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(n);s<t.length;s++)r.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(n,t[s])&&(a[t[s]]=n[t[s]]);return a},nn=function(r){var a=g.useContext(qe),t=a.getPrefixCls,s=a.direction,i=r.prefixCls,l=r.type,d=l===void 0?"horizontal":l,_=r.orientation,p=_===void 0?"center":_,F=r.orientationMargin,S=r.className,v=r.children,E=r.dashed,j=r.plain,C=en(r,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),u=t("divider",i),y=p.length>0?"-".concat(p):p,M=!!v,B=p==="left"&&F!=null,f=p==="right"&&F!=null,q=Ie(u,"".concat(u,"-").concat(d),K(K(K(K(K(K(K({},"".concat(u,"-with-text"),M),"".concat(u,"-with-text").concat(y),M),"".concat(u,"-dashed"),!!E),"".concat(u,"-plain"),!!j),"".concat(u,"-rtl"),s==="rtl"),"".concat(u,"-no-default-orientation-margin-left"),B),"".concat(u,"-no-default-orientation-margin-right"),f),S),H=ge(ge({},B&&{marginLeft:F}),f&&{marginRight:F});return g.createElement("div",ge({className:q},C,{role:"separator"}),v&&d!=="vertical"&&g.createElement("span",{className:"".concat(u,"-inner-text"),style:H},v))};const tn=nn,an="_flexStyles_o1ys2_1",sn={flexStyles:an},Te=g.forwardRef((n,r)=>{const{BASE_FORM:a,listForm:t,listName:s,btnText:i,formLength:l,defaultLength:d}=n,_=o.useFormInstance();let p=[{},{},{},{},{}];g.useEffect(()=>{let u=[...a,s],y=p.slice(0,d||1);C(u,y)},[n]);const F=(u,y,M)=>{var q,H;let B=u.target.value,f=[...a,s,M,...y==null?void 0:y.name];if((q=y==null?void 0:y.options)!=null&&q.toUpperCase&&(B=B.toUpperCase(),C(f,B)),y.options.convertToNumber){let W=[...a,s,M,...(H=y==null?void 0:y.options)==null?void 0:H.fieldsConvert];E(u,f,W)}},S=(u,y)=>{var B,f,q;let M=(f=(B=u.options)==null?void 0:B.compare)==null?void 0:f.index;return M&&M<=y+1?((q=u==null?void 0:u.options)==null?void 0:q.customLabel)+(y+1):u==null?void 0:u.label};let v;const E=(u,y,M)=>{let B=_.getFieldValue(y);v&&clearTimeout(v),v=setTimeout(()=>{let f=oe(B),q=f.charAt(0).toUpperCase()+f.slice(1);C(M,q)},1e3)},j=(u,y,M)=>{let B=null;return B=u.map((f,q)=>{var N;let{options:H}=f,W=H==null?void 0:H.column,m=H==null?void 0:H.format;const h=f.type,b=[y.name,...f==null?void 0:f.name],T=S(f,M),w=(N=f==null?void 0:f.options)==null?void 0:N.layout,D=f==null?void 0:f.placeholder;switch(h){case"date":return e.jsx(on,{column:W,name:b,type:h,label:T,layout:w,placeholder:D});case"select":return e.jsx(rn,{label:T,name:b,type:h,onChange:f!=null&&f.onChange?V=>F(V,f,M):"",options:f==null?void 0:f.options,layout:w,placeholder:D});default:return e.jsx(c,{span:W||24,children:m?e.jsx(o.Item,{label:T,name:b,type:h,onChange:V=>F(V,f,M),layout:w,children:e.jsx($,{style:{width:"100%"},placeholder:D,...H,stringMode:!0})}):e.jsx(x,{label:T,name:b,type:h,onChange:f!=null&&f.onChange?V=>F(V,f,M):"",layout:w,placeholder:D})})}}),B},C=(u,y)=>{_.setFields([{name:u,value:y}])};return e.jsx(o.Item,{label:e.jsx("h3",{children:n==null?void 0:n.label}),children:e.jsx(P,{gutter:[16,12],children:t&&e.jsx(o.List,{name:[...a,s],children:(u,{add:y,remove:M})=>e.jsxs(He.Fragment,{children:[u==null?void 0:u.map((B,f)=>e.jsx(ln,{isValid:u.length<=(d||1),onClick:()=>M(B.name),children:j(t,B,f)},["form_item",B,f+1])),e.jsx(cn,{isValid:u.length>=l,btnText:i,add:y},"form_item_footer")]},"form_lists")},`form_lists_${[...a,s].join("_")}`)})})}),rn=({columnm:n,field:r,formIndex:a,formItem:t,handleRenderLabel:s,fieldIndex:i,handleChange:l})=>{var d;return e.jsx(c,{span:column||24,children:e.jsx(x,{label:s(t,i),name:[r.name,...t==null?void 0:t.name],type:t==null?void 0:t.type,onChange:t!=null&&t.onChange?_=>l(_,t,i):"",options:t==null?void 0:t.options,layout:(d=t==null?void 0:t.options)==null?void 0:d.layout,placeholder:t==null?void 0:t.placeholder},[r.name,a,t==null?void 0:t.name])})},ln=g.memo(({isValid:n,onClick:r,children:a})=>e.jsxs(c,{lg:12,md:12,sm:24,xs:24,children:[e.jsx(P,{gutter:[16,12],children:a}),e.jsx(ke,{className:sn.flexStyles,children:n?"":e.jsx(je,{onClick:r})})]})),cn=g.memo(({isValid:n,btnText:r,add:a})=>n?"":e.jsx(o.Item,{label:" ",children:e.jsx(se,{type:"dashed",onClick:()=>a(),block:!0,icon:e.jsx(Be,{}),children:r})})),on=({column:n,name:r,label:a,layout:t,placeholder:s,type:i})=>e.jsx(c,{span:n||24,children:e.jsx(x,{label:a,name:r,type:i,layout:t,placeholder:s})}),Oe=({label:n,children:r,maxLength:a,formName:t,column:s,defaultLength:i=1,addText:l})=>{const[d,_]=g.useState(i),p=o.useFormInstance();g.useEffect(()=>{window.form=p},[]);const F=(j,C)=>j?Array.isArray(j)?[...t,C,...j]:typeof j=="string"?[...t,C,j]:[...t,C]:[...t,C],S=()=>{if(d>=a)return;let j=d+1;_(j)},v=j=>{if(d>=1){const C=d-1;if(_(C),d>1){const u=p.getFieldValue([...t]);u.splice(j,1),p.setFields([{name:[...t],value:u}])}}else return},E=g.useMemo(()=>Array(d).fill(r).map((C,u)=>e.jsxs(c,{span:s,children:[g.Children.map(C,y=>{var M,B,f;if(g.isValidElement(y)){const q={name:F((M=y.props)==null?void 0:M.name,u),position:u};return typeof((B=y.props)==null?void 0:B.label)=="function"&&(q.label=(f=y.props)==null?void 0:f.label(u)),g.cloneElement(y,q)}}),d>1&&e.jsx(se,{onClick:()=>v(u),icon:e.jsx(je,{}),type:"text",style:{display:"flex",margin:"0 auto"}})]},`list_form_v2_field_${u}`)),[d]);return e.jsx(o.Item,{label:e.jsx("h3",{children:n}),children:e.jsxs(P,{gutter:[16,12],children:[E,d<a&&e.jsx(c,{span:12,children:e.jsx(o.Item,{label:" ",children:e.jsx(se,{onClick:S,type:"dashed",style:{width:"100%"},icon:e.jsx(Be,{}),children:l})})})]})})};Oe.displayName="CCListFormVersion2";Te.V2=Oe;const hn=Object.freeze(Object.defineProperty({__proto__:null,default:Te},Symbol.toStringTag,{value:"Module"})),dn="_current_16ipl_1",un="_active_16ipl_5",gn="_formHorizontal_16ipl_9",pn="_groupInput_16ipl_13",Se={current:dn,active:un,formHorizontal:gn,groupInput:pn},mn=g.lazy(()=>ze(()=>Promise.resolve().then(()=>hn),void 0).then(({default:n})=>({default:n.V2}))),me=["change_info","base_inform"],xn=g.forwardRef((n,r)=>{const{currentStep:a}=$e(),t=g.useMemo(()=>{if(+n.type==2)return e.jsx(_n,{BASE_FORM:me},"board_members");if(+n.type==3)return e.jsx(jn,{BASE_FORM:me},"board_members")},[n.type]);return e.jsx("div",{className:G(Se.current,{[Se.active]:a===1}),children:e.jsxs(P,{gutter:[12,12],children:[e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(x,{label:"Tên doanh nghiệp",name:["change_info","base_inform","company_name"],onChange:s=>k(["change_info","base_inform","company_name"],s.target.value,r,!0),placeholder:"CÔNG TY TNHH DỊCH VỤ TƯ VẤN WARREN B",required:!0})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(x,{label:"Mã số doanh nghiệp hoặc Mã số thuế",name:["change_info","base_inform","mst"],placeholder:"0316184427",required:!0})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(x,{type:"date",label:"Ngày cấp",name:["change_info","base_inform","mst_provide"],placeholder:"15/01/1966 - ENTER",inputReadOnly:!1,required:!0})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(yn,{baseName:["change_info","base_inform","mst_place_provide"],label:"Nơi cấp",required:!0})}),e.jsx(c,{span:24,children:e.jsx(x,{label:R("</>Người đại diện pháp luật <i>(nhập đầy đủ họ và tên)</i></>"),name:["change_info","base_inform","org_person"],placeholder:"NGUYỄN VĂN A",onChange:s=>k(["change_info","base_inform","org_person"],s.target.value,r,!0),required:!0,message:"Vui lòng nhập Người đại diện pháp luật"})}),e.jsx(c,{span:24,children:e.jsx(o.Item,{label:R("<b>Địa chỉ trụ sở chính</b>"),children:e.jsx(L.SelectProvince,{label:"Địa chỉ trụ sở chính",name:[...me,"location"],placeholder:"Địa chỉ trụ sở chính",required:!0})})}),t]})})}),_n=g.memo(({BASE_FORM:n,...r})=>{let a=[{label:"Thành viên góp vốn thứ 1",placeholder:"NGUYỄN VĂN A",name:["name"],onChange:!0,options:{toUpperCase:!0,compare:{end:5,index:2},customLabel:"Thành viên góp vốn thứ "}},{label:ie.approve.fields.contribute_members.fields.capital,placeholder:"80,000,000",name:["capital"],options:{column:8,layout:"horizontal",format:!0,formatter:t=>`${new Intl.NumberFormat("en-US").format(t.replace(/,/g,""))}`}},{label:ie.approve.fields.contribute_members.fields.capital_percent,placeholder:"80",name:["capital_percent"],options:{column:16,layout:"horizontal",format:!0,formatter:t=>`${t.replace("%","")}%`,max:100,min:0,length:3}},{label:ie.approve.fields.contribute_members.fields.doc_code,placeholder:"123456789",name:["doc_code"],options:{column:12,layout:"vertical"}},{label:ie.approve.fields.contribute_members.fields.time_provide,placeholder:"01/01/1999",name:["time_provide"],type:"date",options:{column:12,layout:"vertical"}}];return e.jsx(c,{span:24,children:e.jsx(Te,{label:"Hội đồng thành viên",BASE_FORM:n,listForm:a,formLength:5,defaultLength:2,btnText:"Thêm thành viên góp vốn (nếu có)",listName:"contribute_members"})})}),jn=g.memo(({BASE_FORM:n})=>{const[r,a]=g.useState(3),t=o.useFormInstance();g.useEffect(()=>{var d,_,p,F,S;const l=t.getFieldsValue(!0);if((_=(d=l.change_info)==null?void 0:d.base_inform)!=null&&_.list_president){const v=(S=(F=(p=l.change_info)==null?void 0:p.base_inform)==null?void 0:F.list_president)==null?void 0:S.length;a(v)}},[]);const s=l=>l>2?`Cổ đông dự họp ${l-2}`:l>0?`Thành viên HĐQT ${l}`:"Tên Chủ tịch HĐQT",i=({event:l,path:d,upper:_=!1})=>{const p=l.target.getAttribute("position"),F=l.target.value,S=_&&F.toUpperCase()||F;t.setFields([{name:[...n,"list_president",p,d],value:S}])};return e.jsx(g.Suspense,{fallback:e.jsx(Ge,{}),children:e.jsxs(c,{span:24,children:[r&&e.jsxs(mn,{label:"Đại hội đồng cổ đông",formName:[...n,"list_president"],column:12,addText:"Thêm thành viên HĐQT (nếu có)",removeText:"",defaultLength:r,maxLength:5,children:[e.jsx(x,{label:s,name:"president",placeholder:"NGUYỄN VĂN A",onChange:l=>i({event:l,path:"president",upper:!0})}),e.jsx(o.Item,{label:"Cổ phần đang sở hữu",name:"capital",children:e.jsx($,{style:{width:"100%"},placeholder:"80,000,000",stringMode:!0,formatter:l=>`${new Intl.NumberFormat("en-US").format(l.replace(/,/g,""))}`})})]}),e.jsx(o.Item,{label:"Tổng số vốn điều lệ",name:[...n,"total_capital"],children:e.jsx($,{placeholder:"100,000,000",formatter:l=>`${new Intl.NumberFormat("en-US").format(l.replace(/,/g,""))}`,style:{width:"100%"}})})]})})}),yn=({baseName:n,label:r})=>{const{data:a}=Ue({cacheName:["careerData","province"],fn:()=>Re.getProvince()}),t=o.useFormInstance(),s=o.useWatch([...n,"type"],t);return o.useWatch([...n,"value"],t),e.jsx(o.Item,{label:r,children:e.jsxs(P,{gutter:[8],children:[e.jsx(c,{span:12,children:e.jsx(o.Item,{name:[...n,"type"],children:e.jsx(A,{defaultActiveFirstOption:!0,options:[{label:"Phòng Đăng ký kinh doanh thuộc Sở Kế hoạch và đầu tư tỉnh",value:1},{label:"Khác",value:2}]})})}),e.jsx(c,{span:12,children:e.jsx(x,{name:[...n,"value"],type:!s||s!=2?"select":"text",options:!s||s!=2?a==null?void 0:a.map(({name:i})=>({label:i,value:i})):[],required:!0,placeholder:!s||s!=2?"Chọn tỉnh/thành":"Nhập vào đây"},[...n,"value"])})]})})},bn="_newLine_rtu3v_1",vn="_label_rtu3v_5",fn="_title_rtu3v_11",Cn={newLine:bn,label:vn,title:fn},he=g.forwardRef(({name:n,label:r,...a},t)=>e.jsxs(e.Fragment,{children:[e.jsx(o.Item,{className:Cn.newLine,label:R(r||"<b>Địa chỉ thường trú <i>(ĐDPL)</i></b>"),children:e.jsx(L.SelectProvince,{name:[...n,"current"],label:"Nơi đăng kí hộ khẩu thường trú",required:a==null?void 0:a.required})}),e.jsx(L.RadioAddress,{prevField:[...n,"current"],nextField:[...n,"contact"],ref:t,required:a==null?void 0:a.required})]})),Tn="_current_146ss_1",Fn="_active_146ss_5",O={current:Tn,active:Fn},Y=["change_info","update_info"],wn=({forwardRef:n})=>{const r=o.useFormInstance(),a=o.useWatch([...Y,"information","doc_type"],r);return e.jsxs(X,{className:"box__shadow",title:"Cập nhật thông tin cá nhân",children:[e.jsx(x,{name:[...Y,"information","name"],label:"Họ và tên",required:!0}),e.jsx(le,{required:!0,name:[...Y,"information","birth_day"]}),e.jsx(ye,{name:[...Y,"information","doc_type"],required:!0}),e.jsx(be,{indentifyType:a,name:[...Y,"information","doc_code"],required:!0}),e.jsx(ve,{name:[...Y,"information","doc_time_provide"],required:!0,inputReadOnly:!1,indentifyType:a}),e.jsx(fe,{name:[...Y,"information","doc_outdate"],indentifyType:a}),e.jsx(Ce,{name:[...Y,"information","doc_place_provide"],required:!0,indentifyType:a}),e.jsx(he,{name:[...Y,"information"],ref:n,required:!0}),e.jsx(x,{name:[...Y,"information","phone"],label:"Số điện thoại",required:!0}),e.jsx(x,{name:[...Y,"information","email"],label:"Địa chỉ email",required:!0}),e.jsx(x,{name:[...Y,"information","website"],label:"Địa chỉ website",required:!0})]})},Sn=({forwardRef:n})=>e.jsx(X,{className:"box__shadow",title:"Cập nhật số điện thoại",children:e.jsx(x,{name:[...Y,"phone"],label:"Số điện thoại",required:!0})}),En=({forwardRef:n})=>e.jsx(X,{className:"box__shadow",title:"Cập nhật địa chỉ email",children:e.jsx(x,{name:[...Y,"email"],label:"Email",required:!0})}),Mn=({forwardRef:n})=>e.jsx(X,{className:"box__shadow",title:"Cập nhật địa chỉ website",children:e.jsx(x,{name:[...Y,"website"],label:"Website",required:!0})}),Bn=g.forwardRef((n,r)=>{const[a,t]=g.useState([]);g.useEffect(()=>{if(r){let i=r.current.getFieldValue([...Y,"select"]);t(i||[])}},[r]);const s=i=>t(i);return e.jsx(o.Item,{label:e.jsx("h3",{children:"Cập nhật thông tin đăng ký doanh nghiệp"}),className:G(O.current,{[O.active]:n.current===n.index}),children:e.jsxs(P,{gutter:[12,12],children:[e.jsx(c,{lg:24,md:24,sm:24,xs:24,children:e.jsx(o.Item,{name:[...Y,"select"],label:R("Vui lòng chọn thông tin cần cập nhật"),required:!0,rules:[{required:!0,message:"Vui lòng chọn thông tin cần cập nhật!"}],children:e.jsxs(A,{mode:"multiple",allowClear:!0,style:{width:"100%"},listHeight:300,placeholder:"Bấm vào đây",onChange:s,children:[e.jsx(A.Option,{value:"information",children:"Thông tin cá nhân"}),e.jsx(A.Option,{value:"phone",children:"Số điện thoại"}),e.jsx(A.Option,{value:"email",children:"Email"}),e.jsx(A.Option,{value:"website",children:"Website"})]})})}),a.map((i,l)=>i==="information"?e.jsx(c,{lg:12,sm:24,children:e.jsx(wn,{forwardRef:r},[i,l])}):i==="phone"?e.jsx(c,{lg:12,sm:24,children:e.jsx(Sn,{},[i,l])}):i==="email"?e.jsx(c,{lg:12,sm:24,children:e.jsx(En,{},[i,l])}):i==="website"?e.jsx(c,{lg:12,sm:24,children:e.jsx(Mn,{},[i,l])}):null)]})})}),ce=["change_info","legal_representative"],ae={ADD:"includes",REMOVE:"excludes"},Rn=g.forwardRef((n,r)=>{const[a,t]=g.useState([null,null,null]),[s,i]=g.useState([null,null,null]),[l,d]=g.useState([]),[_,p]=g.useState([]),F=re();let S={};g.useEffect(()=>{if(!F.state)return;let j=r.current.getFieldValue(ce);j!=null&&j.in_out&&E(j.in_out),j!=null&&j.after_change&&d(j==null?void 0:j.after_change)},[F]);const v=()=>{let j=JSON.parse(JSON.stringify(l));d([...j,S]),r.current.getFieldValue(ce)},E=(j=null)=>{p(j||[..._,{}])};return e.jsxs(o.Item,{label:e.jsx("h3",{children:"Thay đổi người đại diện"}),className:G(O.current,{[O.active]:n.current===n.index}),children:[e.jsx(o.Item,{label:R("<b>BỎ BỚT HOẶC THÊM MỚI NGƯỜI ĐẠI DIỆN</b>"),children:e.jsxs(P,{gutter:[12,12],children:[e.jsx(c,{span:24,children:e.jsx(se,{type:"primary",onClick:()=>E(),children:"Thêm mới thông tin"})}),_&&(_==null?void 0:_.map((j,C)=>e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(Nn,{...n,BASE_FORM:ce,ref:r,i:C})},[C,j])))]})}),e.jsx(tn,{}),e.jsxs(o.Item,{label:R("<b>DANH SÁCH NGƯỜI ĐẠI DIỆN SAU KHI THAY ĐỔI</b>"),children:[e.jsx(se,{onClick:v,children:"Thêm người đại diện"}),e.jsx(P,{gutter:[12],children:l.map((j,C)=>e.jsx(c,{lg:8,md:12,sm:24,xs:24,children:e.jsx(On,{index:C,ref:r,BASE_FORM:ce,handleForm:{state:l,setState:d},presentState:{state:s,setState:i},radioState:{state:a,setState:t},type:n==null?void 0:n.data.type})},[j,C]))})]})]})}),Nn=g.forwardRef((n,r)=>{const{BASE_FORM:a,i:t,type:s}=n,[i,l]=g.useState(),d=re(),_=o.useFormInstance(),p=o.useWatch([...a,"in_out",t,"doc_type"],_);g.useEffect(()=>{let{state:v}=d;if(!v)return;let E=r.current.getFieldValue([...a,"in_out",t,"type"]);l(E)},[d,n]);const F=v=>{l(v),k([...a,"in_out",t,"type"],v,r)},S=()=>{let v=null;return i===ae.REMOVE?v=e.jsxs(X,{className:"box__shadow m-tb-5",children:[e.jsx(x,{label:"Họ và tên",name:[...a,"in_out",t,"name"],onChange:E=>k([...a,"in_out",t,"name"],E.target.value,r,!0),required:!0}),e.jsx(L.SelectTitle,{name:[...a,"in_out",t,"title"],label:"Chức danh",placeholder:"Bấm vào đây",options:+s==1?I.TITLE_1TV:+s==2?I.TITLE_2TV:+s==3?I.TITLE_CP:"",ref:r,required:!0})]}):i===ae.ADD&&(v=e.jsxs(X,{className:"box__shadow m-tb-5",children:[e.jsx(x,{label:"Họ và tên",name:[...a,"in_out",t,"name"],required:!0,onChange:E=>k([...a,"in_out",t,"name"],E.target.value,r,!0)}),e.jsx(x,{type:"select",name:[...a,"in_out",t,"gender"],label:"Giới tính",required:!0,options:I.GENDER}),e.jsx(x,{type:"select",name:[...a,"in_out",t,"title"],label:"Chức danh",options:I.TITLE,required:!0}),e.jsx(le,{name:[...a,"in_out",t,"birth_day"],label:"Sinh ngày",required:!0}),e.jsx(L.SelectPersonType,{ref:r,name:[...a,"in_out",t,"per_type"],label:"Dân tộc",placeholder:"Bấm vào đây",required:!0}),e.jsx(ye,{name:[...a,"in_out",t,"doc_type"],required:!0}),e.jsx(be,{indentifyType:p,name:[...a,"in_out",t,"doc_code"],required:!0}),e.jsx(ve,{name:[...a,"in_out",t,"doc_time_provide"],required:!0,inputReadOnly:!1,indentifyType:p}),e.jsx(fe,{name:[...a,"in_out",t,"doc_outdate"],indentifyType:p}),e.jsx(Ce,{name:[...a,"in_out",t,"doc_place_provide"],required:!0,indentifyType:p}),e.jsx(he,{name:[...a,"in_out",t],ref:r,required:!0})]})),v};return e.jsxs(c,{span:24,children:[e.jsx(o.Item,{name:[...a,"in_out",t,"type"],required:!0,rules:[{required:!0,message:"Vui lòng Thêm hoặc bỏ bớt người đại diện"}],children:e.jsxs(A,{onChange:F,placeholder:"Bấm vào đây",children:[e.jsx(A.Option,{value:ae.REMOVE,children:"Bỏ bớt người đại diện"}),e.jsx(A.Option,{value:ae.ADD,children:"Thêm mới người đại diện"})]})}),S()]})}),On=g.forwardRef((n,r)=>{var S;const{index:a,handleForm:t,BASE_FORM:s,presentState:i}=n,{state:l,setState:d}=i,_=re();g.useEffect(()=>{let v=r.current.getFieldValue([...s,"after_change",a,"name"]),E=p(),j=E.findIndex(u=>u.name===v),C=[...l];C[a]=j,d(C),j!==-1&&k([...s,"after_change",a,"select_person"],E[j].value,r)},[_]);const p=()=>{var u;let v=[...s,"in_out"],E=(u=r==null?void 0:r.current)==null?void 0:u.getFieldValue(v),j=(E==null?void 0:E.filter(y=>y.type===ae.ADD))||[],C=(j==null?void 0:j.map(({name:y,organization:M},B)=>({name:y||"...",value:B})))||[];return C.push({value:-1,name:"Khác"}),C},F=(v,E)=>{var y;let j=[...s,"after_change",E],C=(y=r==null?void 0:r.current)==null?void 0:y.getFieldValue([...s,"in_out"]),u;C!=null&&C.length&&(u=C.filter(M=>M.type!==ae.REMOVE)),u&&v!==-1&&(r.current.setFields([{name:[...s,"after_change",a,"select_person"],value:v}]),k(j,u==null?void 0:u[v],r))};return e.jsxs(e.Fragment,{children:[e.jsx(o.Item,{name:[...s,"after_change",a,"select_person"],label:R("<b>Chọn người đại diện</b>"),required:!0,rules:[{required:!0,message:"Vui lòng thêm người đại diện sau thay đổi"}],children:e.jsx(A,{onChange:v=>F(v,a),placeholder:"Bấm vào đây",required:!0,children:(S=p())==null?void 0:S.map(v=>e.jsx(A.Option,{value:v.value,children:v.name}))})}),e.jsx(Dn,{ref:r,listFormState:t,presentState:i,BASE_FORM:s,i:a,type:n==null?void 0:n.type})]})}),Dn=g.forwardRef((n,r)=>{var j;const{i:a,presentState:t,listFormState:s,BASE_FORM:i}=n,{state:l,setState:d}=s,{state:_,setState:p}=t,F=o.useFormInstance(),S=o.useWatch(["change_info","legal_representative","after_change"],F),v=o.useWatch([...i,"after_change",a,"doc_type"],F),E=C=>{let u=r.current.getFieldValue([...i,"after_change"]);u=[...u.slice(0,C),...u.slice(C+1)];let y=[..._];y[C]=null,y=[...y.filter(M=>M!==null),null],p(y),k([...i,"after_change"],u,r),d(u)};return e.jsx(o.Item,{label:e.jsxs("div",{className:O.label,children:[e.jsxs("div",{className:O.title,children:["Thông tin người đại diện thứ ",a+1]}),e.jsx(se,{type:"text",shape:"circle",danger:!0,icon:e.jsx(je,{onClick:()=>E(a)}),style:{display:l.length>1?"block":"none"}})]}),children:e.jsxs("div",{style:{display:+((j=S==null?void 0:S[a])==null?void 0:j.select_person)!=-1?"none":"block"},children:[e.jsx(x,{label:"Họ và tên",name:[...i,"after_change",a,"name"],onChange:C=>k([...i,"after_change",a,"name"],C.target.value,r,!0)}),e.jsx(x,{type:"select",name:[...i,"after_change",a,"gender"],label:"Giới tính",options:I.GENDER}),e.jsx(x,{type:"select",name:[...i,"after_change",a,"title"],label:"Chức danh",options:I.TITLE}),e.jsx(le,{name:[...i,"after_change",a,"birth_day"],label:"Sinh ngày"}),e.jsx(ye,{name:[...i,"after_change",a,"doc_type"],required:!0}),e.jsx(be,{indentifyType:v,name:[...i,"after_change",a,"doc_code"],required:!0}),e.jsx(ve,{name:[...i,"after_change",a,"doc_time_provide"],required:!0,inputReadOnly:!1,indentifyType:v}),e.jsx(fe,{name:[...i,"after_change",a,"doc_outdate"],indentifyType:v}),e.jsx(Ce,{name:[...i,"after_change",a,"doc_place_provide"],required:!0,indentifyType:v}),e.jsx(o.Item,{label:R("<b>Địa chỉ thường trú</b>"),children:e.jsx(L.SelectProvince,{ref:r,name:[...i,"after_change",a,"current"]})}),e.jsx(L.RadioAddress,{ref:r,prevField:[...i,"after_change",a,"current"],nextField:[...i,"after_change",a,"contact"],label:"<b>Nơi ở hiện tại</b>"})]})})}),U=["change_info","location"],An=g.forwardRef((n,r)=>{const a=o.useFormInstance(),t=o.useWatch([...U,"old","city"],a),s=o.useWatch([...U,"old","district"],a),i=o.useWatch([...U,"old","town"],a),l=o.useWatch([...U,"old","address"],a);return g.useEffect(()=>{t&&a.setFields([{name:[...U,"new_location","city"],value:t}]),s&&a.setFields([{name:[...U,"new_location","district"],value:s}]),i&&a.setFields([{name:[...U,"new_location","town"],value:i}]),l&&a.setFields([{name:[...U,"new_location","address"],value:l}])},[t,s,i,l]),e.jsxs(o.Item,{label:e.jsx("h3",{children:"Đăng ký thay đổi địa chỉ trụ sở chính"}),className:G(O.current,{[O.active]:n.current===n.index}),children:[e.jsx(o.Item,{label:R("<b><u>ĐỊA CHỈ TRỤ SỞ HIỆN TẠI<u></b>"),children:e.jsx(L.SelectProvince,{label:"Địa chỉ trụ sở chính",name:[...U,"old"],placeholder:"Địa chỉ trụ sở chính"})}),e.jsx(o.Item,{label:R("<b><u>ĐỊA CHỈ TRỤ SỞ SAU KHI THAY ĐỔI</u></b>"),children:e.jsx(L.SelectProvince,{label:"Địa chỉ trụ sở chính",name:[...U,"new_location"],placeholder:"Địa chỉ trụ sở chính"})})]})}),ne=["change_info","down_authorized_capital"],Pn=g.forwardRef((n,r)=>{g.useEffect(()=>{r&&k(["change_info","down_authorized_capital","type"],"Tăng vốn góp",r)},[r]);let a;const t=(s,i)=>{let l=r.current.getFieldValue([...i,"num"]);a&&clearTimeout(a),a=setTimeout(()=>{let d=oe(l),_=d.charAt(0).toUpperCase()+d.slice(1);k([...i,"char"],_,r)},500)};return e.jsx(o.Item,{label:e.jsx("h3",{children:"Đăng ký thay đổi vốn điều lệ"}),className:G(O.current,{[O.active]:n.current===n.index}),children:e.jsxs(P,{gutter:[16,0],children:[e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(o.Item,{name:[...ne,"base_val","num"],label:R("Vốn điều lệ đã đăng ký <i>(bằng số)</i>"),required:!0,rules:[{required:!0,message:"Vui lòng nhập Vốn điều lệ đã đăng ký!"}],children:e.jsx($,{formatter:s=>`${s}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),style:{width:"100%"},onChange:s=>t(s,[...ne,"base_val"]),stringMode:!0})})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(x,{label:R("Vốn điều lệ đã đăng ký <i>(bằng chữ)</i>"),name:[...ne,"base_val","char"],required:!0,message:"Vui lòng nhập Vốn điều lệ đã đăng ký (bằng chữ)!"})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(o.Item,{name:[...ne,"new_base_val","num"],label:R("Vốn điều lệ sau khi giảm <i>(bằng số)</i>"),required:!0,rules:[{required:!0,message:"Vui lòng nhập Vốn điều lệ sau khi giảm!"}],children:e.jsx($,{formatter:s=>`${s}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),style:{width:"100%"},onChange:s=>t(s,[...ne,"new_base_val"]),stringMode:!0})})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(x,{label:R("Vốn điều lệ sau khi giảm <i>(bằng chữ)</i>"),name:[...ne,"new_base_val","char"],required:!0,message:"Vui lòng nhập Vốn điều lệ sau khi giảm (bằng chữ)!"})})]})})}),Q=["change_info","transfer_contract"],Ln=g.forwardRef((n,r)=>{const[a,t]=g.useState(),[s,i]=g.useState();g.useState("");const l=re();return g.useEffect(()=>{if(l.state){let d=r.current.getFieldValue(Q),{A_side:_,B_side:p}=d;_&&t(_==null?void 0:_.owner),p&&i(p==null?void 0:p.owner)}},[l]),e.jsxs(o.Item,{label:e.jsx("h3",{children:"Hợp đồng chuyển nhượng phần góp vốn"}),className:G(O.current,{[O.active]:n.current===n.index}),children:[e.jsxs(o.Item,{label:R("<b>THÔNG TIN BÊN BÁN</b>"),children:[e.jsx(x,{type:"select",label:"Chủ sở hữu",name:[...Q,"A_side","owner"],onChange:d=>t(d),options:I.OWNER,placeholder:"Bấm vào đây"}),a==="personal"&&e.jsx(Vn,{fieldName:[...Q,"A_side"],forwardRef:r}),a==="organization"&&e.jsx(Yn,{fieldName:[...Q,"A_side"],forwardRef:r})]}),e.jsxs(o.Item,{label:R("<b>THÔNG TIN BÊN MUA</b>"),children:[e.jsx(x,{type:"select",label:"Chủ sở hữu",name:[...Q,"B_side","owner"],onChange:d=>i(d),options:I.OWNER,placeholder:"Bấm vào đây"}),s==="personal"&&e.jsx(qn,{fieldName:[...Q,"B_side"],forwardRef:r}),s==="organization"&&e.jsx(In,{fieldName:[...Q,"B_side"],forwardRef:r})]})]})}),Vn=g.memo(({fieldName:n,forwardRef:r})=>{const a=o.useFormInstance(),t=(s,i,l=!1)=>{a.setFields([{name:s,value:l&&i.toUpperCase()||i}])};return e.jsxs(P,{gutter:[12,0],children:[e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"personal","name"],label:"Họ và tên",placeholder:"NGUYỄN VĂN A",onChange:s=>t([...n,"personal","name"],s.target.value,!0)})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(le,{name:[...n,"personal","birth_day"]})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{type:"select",name:[...n,"personal","gender"],label:"Giới tính",options:I.GENDER,placeholder:"Bấm vào đây",required:!0})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{type:"select",name:[...n,"personal","doc_type"],label:"Loại giấy tờ pháp lý",options:I.DOC_TYPE,placeholder:"Bấm vào đây"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"personal","doc_code"],label:"Số giấy tờ pháp lý"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{type:"date",name:[...n,"personal","doc_time_provide"],label:"Ngày cấp",placeholder:"15/01/2015 - ENTER"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(L.SelectDocProvide,{forwardRef:r,name:[...n,"personal","doc_place_provide"],label:"Nơi cấp",placeholder:"Bấm vào đây"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(he,{name:[...n,"personal"],ref:r})})]})}),Yn=g.memo(({fieldName:n,forwardRef:r})=>{const a=o.useFormInstance(),t=(s,i,l=!1)=>{a.setFields([{name:s,value:l&&i.toUpperCase()||i}])};return e.jsxs(P,{gutter:[12,0],children:[e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"organization","company_name"],label:"Tên doanh nghiệp",placeholder:"CÔNG TY TNHH DỊCH VỤ TƯ VẤN WARREN B",onChange:s=>t([...n,"organization","company_name"],s.target.value,!0)})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"organization","mst"],label:"Mã số doanh nghiệp hoặc Mã số thuế",placeholder:"0316184427"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"organization","mst_provide"],label:"Ngày cấp (ngày đăng ký lần đầu)",type:"date",placeholder:"15/01/2015 - ENTER"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(L.SelectDocProvide,{name:[...n,"organization","place_provide"],label:"Nơi cấp",placeholder:"Bấm vào đây"})}),e.jsx(c,{span:24,children:e.jsx(o.Item,{label:"Địa chỉ trụ sở chính",children:e.jsx(L.SelectProvince,{name:[...n,"organization","company_address","current"]})})}),e.jsx(c,{span:12,children:e.jsx(x,{name:[...n,"organization","legal_representative"],label:R("Họ và tên <i>(Đại diện pháp luật)</i>"),onChange:s=>t([...n,"organization","legal_representative"],s.target.value,!0)})}),e.jsx(c,{span:12,children:e.jsx(L.SelectTitle,{ref:r,name:[...n,"organization","title"],label:"Chức danh",placeholder:"Bấm vào đây",options:I.TITLE_2})})]})}),qn=g.memo(({fieldName:n,forwardRef:r})=>{const a=o.useFormInstance(),t=(s,i,l=!1)=>{a.setFields([{name:s,value:l&&i.toUpperCase()||i}])};return e.jsxs(P,{gutter:[12,0],children:[e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"personal","name"],label:"Họ và tên",placeholder:"NGUYỄN VĂN B",onChange:s=>t([...n,"personal","name"],s.target.value,!0)})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"personal","gender"],label:"Giới tính",type:"select",options:I.GENDER,placeholder:"Bấm vào đây"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(le,{name:[...n,"personal","birth_day"]})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(L.SelectPersonType,{ref:r,name:[...n,"personal","per_type"],label:"Dân tộc"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{type:"select",name:[...n,"personal","doc_type"],label:"Loại giấy tờ pháp lý",options:I.DOC_TYPE,placeholder:"Bấm vào đây"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"personal","doc_code"],label:"Số giấy tờ pháp lý"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"personal","doc_time_provide"],label:"Ngày cấp",type:"date",placeholder:"15/01/2015 - ENTER"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(L.SelectDocProvide,{name:[...n,"personal","doc_place_provide"],label:"Nơi cấp",placeholder:"Bấm vào đây"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(he,{name:[...n,"personal"],ref:r})}),e.jsx(c,{span:24,children:e.jsx(De,{fieldName:[...n,"organization","capital_contribution"]})})]})}),In=g.memo(({fieldName:n,forwardRef:r})=>{const a=o.useFormInstance(),t=(s,i,l=!1)=>{a.setFields([{name:s,value:l&&i.toUpperCase()||i}])};return e.jsxs(P,{gutter:[12,0],children:[e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"organization","company_name"],label:"Tên doanh nghiệp",onChange:s=>t([...n,"organization","company_name"],s.target.value,!0)})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"organization","mst"],label:"Mã số doanh nghiệp"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(x,{name:[...n,"organization","time_provide"],label:"Ngày cấp",type:"date",placeholder:"15/01/2015 - ENTER"})}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(L.SelectDocProvide,{name:[...n,"organization","place_provide"],label:"Nơi cấp",placeholder:"Bấm vào đây"})}),e.jsx(c,{span:24,children:e.jsx(o.Item,{label:"Địa chỉ trụ sở chính",children:e.jsx(L.SelectProvince,{name:[...n,"organization","company_address","current"]})})}),e.jsx(c,{span:24,children:e.jsx(x,{type:"select",name:[...n,"organization","company_model"],label:"Mô hình công ty",options:I.COMPANY_MODEL})}),e.jsx(c,{span:12,children:e.jsx(x,{name:[...n,"organization","legal_representative"],label:R("Họ và tên <i>(Đại diện pháp luật)</i>"),onChange:s=>t([...n,"organization","legal_representative"],s.target.value,!0)})}),e.jsx(c,{span:12,children:e.jsx(L.SelectTitle,{ref:r,name:[...n,"organization","legal_title"],label:"Chức danh",placeholder:"Bấm vào đây",options:I.TITLE_2})}),e.jsx(c,{span:24,children:e.jsx(De,{fieldName:[...n,"organization","capital_contribution"]})})]})});let xe;const De=({fieldName:n})=>{const r=o.useFormInstance(),a=(s,i,l=!1)=>{r.setFields([{name:s,value:l&&i.toUpperCase()||i}])},t=s=>{let i=r.getFieldValue([...s,"num"]),l=[...s,"char"];xe&&clearTimeout(xe),xe=setTimeout(()=>{let d=oe(i),_=d.charAt(0).toUpperCase()+d.slice(1);a(l,_)},1e3)};return e.jsxs(P,{gutter:[4,16],children:[e.jsx(c,{span:12,children:e.jsx(o.Item,{label:R("<b>Phần vốn góp Bên bán hiện đang sở hữu là</b>"),children:e.jsxs(P,{gutter:[4,16],children:[e.jsx(c,{span:12,children:e.jsx(o.Item,{name:[...n,"capital_current","num"],label:"Bằng số",children:e.jsx($,{formatter:s=>`${s}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),style:{width:"100%"},onChange:s=>t([...n,"capital_current"]),stringMode:!0})})}),e.jsx(c,{span:12,children:e.jsx(x,{name:[...n,"capital_current","char"],label:"Bằng chữ"})}),e.jsx(c,{span:12,children:e.jsx(o.Item,{label:"Chiếm % vốn điều lệ",name:[...n,"capital_current","percent"],children:e.jsx($,{style:{width:"100%"},placeholder:"Bấm vào đây",max:100,min:0,stringMode:!0,formatter:s=>`${s.replace("%","")}%`})})})]})})}),e.jsx(c,{span:12,children:e.jsx(o.Item,{label:R("<b>Phần vốn góp Bên bán chuyển nhượng là</b>"),children:e.jsxs(P,{gutter:[4,16],children:[e.jsx(c,{span:12,children:e.jsx(o.Item,{name:[...n,"capital_transfer","num"],label:"Bằng số",children:e.jsx($,{formatter:s=>`${s}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),style:{width:"100%"},onChange:s=>t([...n,"capital_transfer"]),stringMode:!0})})}),e.jsx(c,{span:12,children:e.jsx(x,{name:[...n,"capital_transfer","char"],label:"Bằng chữ"})}),e.jsx(c,{span:12,children:e.jsx(o.Item,{label:"Chiếm % vốn điều lệ",name:[...n,"capital_transfer","percent"],children:e.jsx($,{style:{width:"100%"},placeholder:"Bấm vào đây",max:100,min:0,stringMode:!0,formatter:s=>`${s.replace("%","")}%`})})})]})})})]})},Ee=["change_info","company_career"],Hn=g.forwardRef((n,r)=>{const[a,t]=g.useState([]);g.useEffect(()=>{s()},[]);const s=async()=>{try{const l=await Re.fetchCareer();l&&t(l.data.data)}catch{}},i=(l,d,_)=>{r.current.setFieldsValue({change_info:{company_career:{[_]:d}}})};return e.jsxs(o.Item,{label:e.jsx("h3",{children:"Thông báo thay đổi ngành, nghề kinh doanh"}),className:G(O.current,{[O.active]:n.current===n.index}),children:[e.jsx(o.Item,{label:"Bổ sung ngành, nghề kinh doanh",name:[...Ee,"include"],children:e.jsx(A,{showSearch:!0,placeholder:"Gõ tên ngành hoặc mã ngành",allowClear:!0,mode:"multiple",optionFilterProp:"children",filterOption:(l,d)=>d.children.join("").toLowerCase().indexOf(l.toLowerCase())>=0,onChange:(l,d)=>i(l,d,"include"),children:a.map(l=>e.jsxs(A.Option,{value:l._id,name:l.name,children:[l.code,"-",l.name]},l._id))})}),e.jsx(o.Item,{label:"Bỏ ngành, nghề kinh doanh",name:[...Ee,"exclude"],placeholder:"Gõ tên ngành hoặc mã ngành",children:e.jsx(A,{showSearch:!0,placeholder:"Gõ tên ngành hoặc mã ngành",allowClear:!0,mode:"multiple",optionFilterProp:"children",filterOption:(l,d)=>d.children.join("").toLowerCase().indexOf(l.toLowerCase())>=0,onChange:(l,d)=>i(l,d,"exclude"),children:a.map(l=>e.jsxs(A.Option,{value:l._id,name:l.name,children:[l.code,"-",l.name]},l._id))})})]})}),J=["change_info","up_authorized_capital"];let _e;const kn=g.forwardRef((n,r)=>{const a=(t,s)=>{let i=r.current.getFieldValue([...s,"num"]);_e&&clearTimeout(_e),_e=setTimeout(()=>{let l=oe(i),d=l.charAt(0).toUpperCase()+l.slice(1);k([...s,"char"],d,r)},500)};return e.jsx(o.Item,{label:e.jsx("h3",{children:"Đăng ký thay đổi vốn điều lệ"}),className:G(O.current,{[O.active]:n.current===n.index}),children:e.jsxs(P,{gutter:[16,0],children:[e.jsx(c,{md:24,children:n.type===1&&e.jsx(x.Select,{label:"Hình thức tăng vốn",name:[...J,"type"],options:[{name:"Chủ sở hữu công ty góp thêm vốn",value:1},{name:"Huy động thêm vốn góp của người khác",value:2}]})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(o.Item,{name:[...J,"base_val","num"],label:R("Vốn điều lệ đã đăng ký <i>(bằng số)</i>"),children:e.jsx($,{formatter:t=>`${t}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),style:{width:"100%"},onChange:t=>a(t,[...J,"base_val"]),stringMode:!0})})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(x,{label:R("Vốn điều lệ đã đăng ký <i>(bằng chữ)</i>"),name:[...J,"base_val","char"]})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(o.Item,{name:[...J,"new_base_val","num"],label:R("Vốn điều lệ sau khi tăng <i>(bằng số)</i>"),children:e.jsx($,{formatter:t=>`${t}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),style:{width:"100%"},onChange:t=>a(t,[...J,"new_base_val"]),stringMode:!0})})}),e.jsx(c,{lg:12,md:24,sm:24,xs:24,children:e.jsx(x,{label:R("Vốn điều lệ sau khi tăng <i>(bằng chữ)</i>"),name:[...J,"new_base_val","char"]})})]})})}),te=["change_info","name"],Me={content:e.jsxs("ul",{style:{maxWidth:600,listStyle:"none"},children:[e.jsx("h4",{children:e.jsx("b",{children:"Cách đặt tên công ty"})}),e.jsx("li",{children:"Tên công ty bao gồm hai thành tố “Loại hình công ty” và “tên riêng” cấu thành theo thứ tự sau: Loại hình công ty + Tên riêng."}),e.jsxs("li",{children:["Ví dụ:",e.jsx("ol",{children:"- Tên tiếng Việt: CÔNG TY TNHH FAMILY HOME;"}),e.jsx("ol",{children:" - Tên tiếng Anh: FAMILY HOME COMPANY LIMITED;"}),e.jsx("ol",{children:" - Tên viết tắt: FAMILY HOME CO.,LTD."})]}),e.jsx("h4",{children:e.jsx("b",{children:"4 điều cấm trong đặt tên công ty"})}),e.jsx("li",{children:"1.Tên riêng trùng với tên riêng của doanh nghiệp đã đăng ký."}),e.jsxs("li",{children:["2. Tên riêng chỉ khác với tên riêng của doanh nghiệp cùng loại đã đăng ký:",e.jsxs("ol",{style:{listStyle:"none"},children:[e.jsx("li",{children:"a. Bởi một số tự nhiên, một số thứ tự hoặc một chữ cái trong bảng chữ cái tiếng Việt, chữ F, J, Z, W được viết liền hoặc cách ngay sau tên riêng của doanh nghiệp đó;"}),e.jsx("li",{children:"b. Bởi một ký hiệu “&” hoặc “và”, “.”, “,”, “+”, “-”, “_”;"}),e.jsx("li",{children:"c. Bởi từ “tân” ngay trước hoặc từ “mới” được viết liền hoặc cách ngay sau hoặc trước tên riêng của doanh nghiệp đã đăng ký;"}),e.jsx("li",{children:"d. Bởi một cụm từ “miền Bắc”, “miền Nam”, “miền Trung”, “miền Tây”, “miền Đông”;"})]})]}),e.jsx("li",{children:"3. Sử dụng tên cơ quan nhà nước, đơn vị lực lượng vũ trang nhân dân, tên của tổ chức chính trị, tổ chức chính trị - xã hội, tổ chức chính trị xã hội - nghề nghiệp, tổ chức xã hội, tổ chức xã hội - nghề nghiệp để làm toàn bộ hoặc một phần tên riêng của doanh nghiệp, trừ trường hợp có sự chấp thuận của cơ quan, đơn vị hoặc tổ chức đó."}),e.jsx("li",{children:"4. Sử dụng từ ngữ, ký hiệu vi phạm truyền thống lịch sử, văn hóa, đạo đức và thuần phong mỹ tục của dân tộc."})]}),title:"Quy tắc đặt tên công ty"},zn=g.forwardRef((n,r)=>{let a;const[t,s]=g.useState([]),[i,l]=g.useState(!1),d=({value:p,pathName:F,search:S=!1}={})=>{k(F,p,r,!0),S&&(a&&clearTimeout(a),a=setTimeout(()=>{_(p)},500))},_=async p=>{if(p.length<=4){s([]);return}try{l(!0);let F={q:p},S=await Ne.checkCompany(F),{data:v}=S.data;s(v)}catch{}finally{l(!1)}};return e.jsx(o.Item,{label:e.jsx("h3",{children:"Đăng ký thay đổi tên doanh nghiệp"}),className:G(O.current,{[O.active]:n.current===n.index}),children:e.jsx(o.Item,{label:R("<b>THAY ĐỔI TÊN DOANH NGHIỆP THÀNH</b>"),children:e.jsxs(P,{children:[e.jsxs(c,{lg:12,md:12,sm:24,xs:24,children:[e.jsx(o.Item,{name:[...te,"name_vi"],label:"Tên công ty bằng Tiếng Việt",hasFeedback:!0,validateStatus:i?"validating":t.length>0?"error":"success",required:!0,rules:[{required:!0,message:"Vui lòng nhập tên công ty"}],children:e.jsx(We,{size:"small",onChange:p=>d({value:p.target.value,pathName:[...te,"name_vi"],search:!0}),rule:!0})}),e.jsx("div",{className:"",style:{minHeight:30},children:t&&(t==null?void 0:t.length)>0&&e.jsx(X,{size:"small",title:"Công ty đã đăng kí",children:t==null?void 0:t.map(p=>e.jsx(Ke,{message:p,type:"error"},p))})}),e.jsx(x,{label:R("Tên công ty bằng tiếng nước ngoài <i>(chỉ điền nếu có thay đổi)</i>"),name:[...te,"name_en"],onChange:p=>k([...te,"name_en"],p.target.value,r,!0)}),e.jsx(x,{label:R("Tên công ty viết tắt <i>(chỉ điền nếu có thay đổi)</i>"),name:[...te,"name_etc"],onChange:p=>k([...te,"name_etc"],p.target.value,r,!0)})]}),e.jsx(c,{lg:12,md:12,sm:24,xs:24,children:e.jsx(we,{bordered:!1,defaultActiveKey:[],expandIcon:({isActive:p})=>e.jsx(Qe,{rotate:p?90:0}),className:"site-collapse-custom-collapse",ghost:!0,children:e.jsx(we.Panel,{header:Me.title,className:"site-collapse-custom-panel",children:Me.content},"1")})})]})})})}),$n={1:["change_info","location"],2:["change_info","legal_representative"],3:["change_info","name"],4:["change_info","down_authorized_capital"],5:["change_info","up_authorized_capital"],6:["change_info","transfer_contract"],7:["change_info","company_career"],10:["change_info","tax"]},Zn=g.forwardRef((n,r)=>{var q,H,W;const[a]=o.useForm(),[t,s]=g.useState(""),[i,l]=g.useState([]),{onCreateStep:d}=Je(),_=o.useWatch("category",a),p=Xe({queryKey:["product_data",n.data.parentId,_==null?void 0:_.value],queryFn:async()=>(await Ne.getProduct({_id:n.data.parentId,_pId:_==null?void 0:_.value})).data.data,enabled:!!(_!=null&&_.value),onSuccess:m=>S(m)});let F=re();g.useEffect(()=>{F!=null&&F.state&&v()},[F]);const S=m=>{try{if(m){const h=a.getFieldValue(["products"]);if(h){let b=[];for(let T=0;T<(m==null?void 0:m.length);T++){let w=m[T];(h==null?void 0:h.some(N=>N.value===w._id))&&b.push(w)}b=b.map(T=>({children:T.name,key:T._id,type:T.type,value:T._id})),a==null||a.setFields([{name:"products",value:b}]),y(null,b)}}}catch{}},v=async()=>{var V,Fe;let m={},h={},{state:b}=F;const{category:T,products:w,data:D}=b;if(!T)return;if(w&&(m.products=w),D){let{change_info:Z}=b.data;if(h={type:T.type,value:T._id,name:T.name},m.category=h,Z){const{legal_representative:de,transfer_contract:ue,base_inform:ee,update_info:Ae,...Pe}=Z;ee&&(ee.mst_provide=z(ee==null?void 0:ee.mst_provide,"YYYY-MM-DD"));const Le=j(de),Ve=E(ue),Ye=C(Ae);Z={...Pe,base_inform:ee,update_info:Ye,legal_representative:Le,transfer_contract:Ve},m.change_info=Z}}(V=r.current)==null||V.setFieldsValue({...m});const N=(Fe=m.products)==null?void 0:Fe.map(({name:Z,_id:de,type:ue})=>({name:Z,value:de,type:ue}));pe(["products"],N,a),pe(["category"],h,a),s(N)},E=m=>{const h={...m};if(h){const{A_side:b,B_side:T}=h;if(b){const{personal:w,organization:D}=b;if(w){const{birth_day:N,doc_time_provide:V}=w;N&&(w.birth_day=z(N,"YYYY-MM-DD")),V&&(w.doc_time_provide=z(V,"YYYY-MM-DD"))}if(D){const{mst_provide:N}=D;N&&(D.mst_provide=z(N,"YYYY-MM-DD"))}h.A_side=b}if(T){const{personal:w,organization:D}=T;if(w){const{birth_day:N,doc_time_provide:V}=w;N&&(w.birth_day=z(N,"YYYY-MM-DD")),V&&(w.doc_time_provide=z(V,"YYYY-MM-DD"))}if(D){const{time_provide:N}=D;N&&(D.time_provide=z(N,"YYYY-MM-DD"))}h.B_side=T}}return h},j=m=>{const h={...m};if(h){const{in_out:b,after_change:T}=h;b!=null&&b.length&&b.map(w=>{const{birth_day:D,doc_time_provide:N}=w;return D&&(w.birth_day=z(D,"YYYY-MM-DD")),N&&(w.doc_time_provide=z(N,"YYYY-MM-DD")),w}),T!=null&&T.length&&T.map(w=>{const{birth_day:D,doc_time_provide:N,doc_outdate:V}=w;return D&&(w.birth_day=z(D,"YYYY-MM-DD")),N&&(w.doc_time_provide=z(N,"YYYY-MM-DD")),V&&(w.doc_outdate=z(V,"YYYY-MM-DD")),w}),h.in_out=b,h.after_change=T}return h},C=m=>{const h={...m};if(h){const{information:b}=h;if(b){const{birth_day:T,doc_time_provide:w}=b;T&&(b.birth_day=z(new Date(T))),w&&(b.doc_time_provide=z(new Date(w)))}h.information=b}return h},u=(m,h,b)=>{switch(m){case"2":return e.jsx(Rn,{current:n.current,index:h+2,ref:b,...n.data,type:t==null?void 0:t.type},[m,h]);case"3":return e.jsx(zn,{current:n.current,index:h+2,ref:b,...n.data,type:t==null?void 0:t.type},[m,h]);case"4":return e.jsx(Pn,{current:n.current,index:h+2,ref:b,...n.data,type:t==null?void 0:t.type},[m,h]);case"5":return e.jsx(kn,{current:n.current,index:h+2,ref:b,...n.data,type:t==null?void 0:t.type},[m,h]);case"7":return e.jsx(Hn,{current:n.current,index:h+2,ref:b,...n.data,type:t==null?void 0:t.type},[m,h]);case"1":return e.jsx(An,{current:n.current,index:h+2,ref:b,...n.data,type:t==null?void 0:t.type},[m,h]);case"6":return e.jsx(Ln,{current:n.current,index:h+2,ref:b,...n.data,type:t==null?void 0:t.type},[m,h]);case"10":return e.jsx(Bn,{current:n.current,index:h+2,ref:b,...n.data,type:t==null?void 0:t.type},[m,h]);default:return null}},y=(m,h)=>{l(h);const b=[{title:"Bước 1",desc:"Chọn loại hình doanh nghiệp",field:["category"]},{title:"Bước 2",desc:"Thông tin chung",field:["change_info","base_inform"]}];for(let T=0;T<h.length;T++)b.push({desc:h[T].children,title:`Bước ${T+3}`,field:$n[h[T].type]});b.push({title:`Bước ${h.length>0?h.length+3:b.length+1}`,desc:"Xem lại",field:["change_info","preview"]}),d(b)},M=({type:m,name:h,value:b},T)=>{s({type:m,name:h,value:b}),pe([T],{type:m,name:h,value:b},a)},B=(q=p==null?void 0:p.data)==null?void 0:q.filter(m=>{if(!(m.type==5&&i.some(h=>h.type==4))&&!(m.type==4&&i.some(h=>h.type==5)))return m}),f={showSearch:!0,mode:"multiple",allowClear:!0,style:{width:"100%"},listHeight:300,placeholder:"Bấm vào đây",optionFilterProp:"children",onChange:y,filterOption:(m,h)=>h.children.toLowerCase().indexOf(m.toLowerCase())>=0};return e.jsxs(o,{ref:r,layout:"vertical",name:"change_info",validateMessages:Ze,form:a,children:[e.jsx(o.Item,{name:["category"],label:"Chọn loại hình doanh nghiệp",required:!0,className:G(O.current,{[O.active]:n.current===0}),children:e.jsx(A,{onChange:(m,h)=>M(h,"category"),placeholder:"Bấm vào đây",children:(W=(H=n.data)==null?void 0:H.data)==null?void 0:W.map(m=>e.jsx(A.Option,{value:m._id,...m,children:m.name},m._id))})}),e.jsx(o.Item,{name:["products"],label:"Chọn thông tin thay đổi",required:!0,className:G(O.current,{[O.active]:n.current===0}),children:e.jsx(A,{...f,disabled:!t,children:B==null?void 0:B.map(m=>e.jsx(A.Option,{value:m._id,type:m.type,children:m.name},m._id))})}),i==null?void 0:i.map((m,h)=>u(m.type,h,r)),e.jsx(xn,{index:1,ref:r,type:t==null?void 0:t.type})]})});export{Zn as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}