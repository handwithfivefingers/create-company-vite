import{a3 as M,_ as b,bk as X,a as W,c as x,bq as G,i as h,bs as f,aV as U,a2 as q,ad as D,bt as Y}from"./index.bd197d1a.js";import{a as c,j as n,d as v,u as J,m as K,g as Q}from"./vendor.aa9f5085.js";import{L as A}from"./index.3e30f075.js";var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"};const ee=Z;var P=function(_,i){return n(M,{...b(b({},_),{},{ref:i,icon:ee})})};P.displayName="FileExcelOutlined";const te=c.exports.forwardRef(P),ae="_listStep_10ps8_1",ne="_stepItem_10ps8_9",se="_stepContent_10ps8_13",ce="_content_10ps8_20",ie="_title_10ps8_27",re="_desc_10ps8_32",oe="_sticky_10ps8_54",ue="_cardHeader_10ps8_71",le="_collapsed_10ps8_81",de="_scroll_10ps8_90",u={listStep:ae,stepItem:ne,stepContent:se,content:ce,title:ie,desc:re,sticky:oe,cardHeader:ue,collapsed:le,scroll:de},_e=e=>{var s,B;const _=X(l=>l.commonReducer.collapsed),i=(s=e==null?void 0:e.data)==null?void 0:s.length,p=l=>{e!=null&&e.onFinishScreen&&e.onFinishScreen(l)};return n(W,{className:x([u.cardHeader,{[u.collapsed]:_}]),children:n("div",{className:u.listStep,style:{"--offset":i},children:(B=e==null?void 0:e.data)==null?void 0:B.map((l,m)=>n("div",{className:x([u.stepItem,{[u.sticky]:e.step==m,["animate__animated animate__fadeIn animate__faster"]:e.step==m}]),style:{["--animate-duration"]:"0.5s",["--animate-delay"]:"0.3s"},onClick:()=>p(m),children:v("div",{className:x([u.stepContent]),children:[n("div",{className:u.icon,children:n(G.Avatar,{active:!0})}),v("div",{className:u.content,children:[n("div",{className:u.title,children:l.title}),n("div",{className:u.desc,children:l.desc})]})]})},[e.step,m,i]))})})},he=[{title:"B\u01B0\u1EDBc 1",desc:"Ch\u1ECDn lo\u1EA1i h\xECnh doanh nghi\u1EC7p"},{title:"B\u01B0\u1EDBc 2",desc:"V\u1ED1n \u0111i\u1EC1u l\u1EC7"},{title:"B\u01B0\u1EDBc 3",desc:"Th\xE0nh vi\xEAn g\xF3p v\u1ED1n"},{title:"B\u01B0\u1EDBc 4",desc:"Ng\u01B0\u1EDDi \u0111\u1EA1i di\u1EC7n ph\xE1p lu\u1EADt"},{title:"B\u01B0\u1EDBc 5",desc:"T\xEAn c\xF4ng ty"},{title:"B\u01B0\u1EDBc 6",desc:"\u0110\u1ECBa ch\u1EC9 \u0111\u1EB7t tr\u1EE5 s\u1EDF"},{title:"B\u01B0\u1EDBc 7",desc:"Ng\xE0nh ngh\u1EC1 \u0111\u0103ng k\xED"},{title:"B\u01B0\u1EDBc 8",desc:"Xem l\u1EA1i"}],Ee=[{title:"B\u01B0\u1EDBc 1",desc:"Ch\u1ECDn lo\u1EA1i h\xECnh doanh nghi\u1EC7p"},{title:"B\u01B0\u1EDBc 2",desc:"Nh\u1EADp th\xF4ng tin"},{title:"B\u01B0\u1EDBc 3",desc:"Xem l\u1EA1i"}],pe=[{title:"B\u01B0\u1EDBc 1",desc:"Ch\u1ECDn lo\u1EA1i h\xECnh doanh nghi\u1EC7p"},{title:"B\u01B0\u1EDBc 2",desc:"Gi\u1EA3i th\u1EC3"},{title:"B\u01B0\u1EDBc 3",desc:"Xem l\u1EA1i"}],E={createOrder:"/order/create",updateOrder:"/order",createOrderWithPayment:"/order/create/payment",products:"/product",checkCompany:"/service/search",categories:"/category"},y={createOrder:e=>h.post(E.createOrder,e),createOrderWithPayment:e=>h.post(E.createOrderWithPayment,e),getDataBySlug:e=>h.get(`${E.products}/${e.slug}`),getCategoryBySlug:e=>h.get(E.categories+"/"+e.slug),getProduct:e=>h.get(E.products,{params:e}),checkCompany:e=>h.post(E.checkCompany,e),updateOrder:(e,_)=>h.post(E.updateOrder+"/"+e,_)},me="_inline_1uiia_78",ge="_box__shadow_1uiia_139",Be="_mainContent_1uiia_161",Ce="_formContent_1uiia_168",O={"ant-table-scroll-horizontal":"_ant-table-scroll-horizontal_1uiia_1","ant-table-container":"_ant-table-container_1uiia_1","ant-table-content":"_ant-table-content_1uiia_1","ant-layout-sider-trigger":"_ant-layout-sider-trigger_1uiia_24","ant-layout-footer":"_ant-layout-footer_1uiia_29","ant-form-item-control-input-content":"_ant-form-item-control-input-content_1uiia_33","ant-picker":"_ant-picker_1uiia_48","ant-select-selector":"_ant-select-selector_1uiia_49","ant-form-item":"_ant-form-item_1uiia_33","ant-row":"_ant-row_1uiia_62","site-layout-background":"_site-layout-background_1uiia_66","spin-suspense":"_spin-suspense_1uiia_70",inline:me,"cc-scroll":"_cc-scroll_1uiia_90","cc-card":"_cc-card_1uiia_114",box__shadow:ge,"ant-tabs-content-holder":"_ant-tabs-content-holder_1uiia_143","ant-tabs-content":"_ant-tabs-content_1uiia_143","ant-tabs-tabpane":"_ant-tabs-tabpane_1uiia_149",mainContent:Be,formContent:Ce},ye=c.exports.lazy(()=>f(()=>import("./index.a2024bc0.js").then(e=>e.i),["assets/index.a2024bc0.js","assets/index.c2efba3a.css","assets/index.bd197d1a.js","assets/index.bda71de1.css","assets/vendor.aa9f5085.js","assets/index.e14e48dc.js"])),fe=c.exports.lazy(()=>f(()=>import("./index.d80accc3.js"),["assets/index.d80accc3.js","assets/index.bd197d1a.js","assets/index.bda71de1.css","assets/vendor.aa9f5085.js"])),xe=c.exports.lazy(()=>f(()=>import("./index.1fc5f9bc.js"),["assets/index.1fc5f9bc.js","assets/index.bd197d1a.js","assets/index.bda71de1.css","assets/vendor.aa9f5085.js"])),De=c.exports.lazy(()=>f(()=>import("./index.1f359851.js"),["assets/index.1f359851.js","assets/index.bd197d1a.js","assets/index.bda71de1.css","assets/vendor.aa9f5085.js"])),ve=e=>{J();const _=c.exports.useRef(),[i,p]=c.exports.useState(0),[s,B]=c.exports.useState(),[l,m]=c.exports.useState([{title:"B\u01B0\u1EDBc 1",desc:"Ch\u1ECDn lo\u1EA1i h\xECnh doanh nghi\u1EC7p"},{title:"B\u01B0\u1EDBc 2",desc:"Th\xF4ng tin chung"},{title:"B\u01B0\u1EDBc 3",desc:"Xem l\u1EA1i"}]);let S=K();const{data:C,isFetching:F,isLoading:N,status:I,refetch:Se}=U({cacheName:["userProduct",S],fn:()=>y.getCategoryBySlug(S),otherPath:!0}),k=Q();c.exports.useEffect(()=>{C&&I==="success"&&B({...C,data:C.data.sort((a,t)=>a.type-t.type)})},[C]);const w=c.exports.useCallback(()=>{p(i+1)},[i]),T=c.exports.useCallback(()=>{p(i-1)},[i]),z=a=>{console.log(a)},L=a=>{const t={ref:_,step:i,setStep:p,loading:N,Prev:T,Next:w,paymentService:$,saveService:V,onFinishScreen:z,data:s.data};switch(a){case 1:return n(ye,{...t});case 2:return t.changeInforStep=l,t.onFinishScreen=R,t.data=s,n(fe,{...t});case 3:return n(xe,{...t});case 4:return n(De,{...t});default:return null}},H=()=>{if(s){let a={step:i,data:null,onFinishScreen:t=>p(t)};return s.type===1?a.data=he:s.type===2?a.data=l:s.type===3?a.data=Ee:s.type===4&&(a.data=pe),n(_e,{...a})}},R=c.exports.useCallback(a=>{let t=[{title:"B\u01B0\u1EDBc 1",desc:"Ch\u1ECDn lo\u1EA1i h\xECnh doanh nghi\u1EC7p"},{title:"B\u01B0\u1EDBc 2",desc:"Th\xF4ng tin chung"}];for(let o=0;o<a.length;o++)t.push({desc:a[o].children,title:`B\u01B0\u1EDBc ${o+3}`});t.push({title:`B\u01B0\u1EDBc ${a.length>0?a.length+3:t.length+1}`,desc:"Xem l\u1EA1i"}),m(t)},[]),V=async({_id:a,...t})=>{var o,g;try{let r;a?r=await y.updateOrder(a,t):r=await y.createOrder(t),r.status===200&&(D.success(r.data.message),k("/user/san-pham"))}catch(r){console.log("saveService",r),D.error({content:((g=(o=r.response)==null?void 0:o.data)==null?void 0:g.error)||r.message||"\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra, vui l\xF2ng th\u1EED l\u1EA1i sau",duration:3})}},$=async(a,t)=>{var o,g,r;if(!!t.current){try{await((o=t.current)==null?void 0:o.validateFields())}catch(d){return console.log(d),j(d==null?void 0:d.errorFields)}try{let d=await y.createOrderWithPayment(a);d.data.status===200&&window.open(d.data.url)}catch(d){console.log("paymentService",d),D.error({content:((r=(g=error.response)==null?void 0:g.data)==null?void 0:r.error)||error.message||"\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra, vui l\xF2ng th\u1EED l\u1EA1i sau",duration:3})}}},j=a=>{Y.open({message:"",icon:n(te,{style:{color:"var(--light)"}}),description:n(A,{size:"small",dataSource:a,renderItem:t=>n(A.Item,{children:t.errors})}),style:{width:400}})};return v("div",{className:O.mainContent,children:[s&&H(),n("div",{className:O.formContent,children:n(q,{spinning:F,children:s&&L(s==null?void 0:s.type)})})]})},Pe=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"}));export{y as P,Pe as i};
