import{a5 as de,_ as w,aH as wt,y as Ce,q as Y,H as Pt,p as xe,r as g,t as V,s as P,x as H,b6 as nt,b7 as at,b8 as rt,bk as ie,b9 as ot,a7 as it,w as Z,a8 as dt,a6 as Tt,bl as Lt,K as pe,A as fe,ba as Mt,L as $t,bf as Be,av as qe,J as st,bd as Rt}from"./index-XD4JDM6b.js";function j(a,i){return a[i]}function lt(a,i){var s=new Set;return a.forEach(function(e){i.has(e)||s.add(e)}),s}function It(a){var i=a||{},s=i.disabled,e=i.disableCheckbox,o=i.checkable;return!!(s||e)||o===!1}function At(a,i,s,e){for(var o=new Set(a),u=new Set,l=0;l<=s;l+=1){var t=i.get(l)||new Set;t.forEach(function(c){var v=c.key,p=c.node,h=c.children,y=h===void 0?[]:h;o.has(v)&&!e(p)&&y.filter(function(m){return!e(m.node)}).forEach(function(m){o.add(m.key)})})}for(var n=new Set,r=s;r>=0;r-=1){var d=i.get(r)||new Set;d.forEach(function(c){var v=c.parent,p=c.node;if(!(e(p)||!c.parent||n.has(c.parent.key))){if(e(c.parent.node)){n.add(v.key);return}var h=!0,y=!1;(v.children||[]).filter(function(m){return!e(m.node)}).forEach(function(m){var f=m.key,K=o.has(f);h&&!K&&(h=!1),!y&&(K||u.has(f))&&(y=!0)}),h&&o.add(v.key),y&&u.add(v.key),n.add(v.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(lt(u,o))}}function _t(a,i,s,e,o){for(var u=new Set(a),l=new Set(i),t=0;t<=e;t+=1){var n=s.get(t)||new Set;n.forEach(function(v){var p=v.key,h=v.node,y=v.children,m=y===void 0?[]:y;!u.has(p)&&!l.has(p)&&!o(h)&&m.filter(function(f){return!o(f.node)}).forEach(function(f){u.delete(f.key)})})}l=new Set;for(var r=new Set,d=e;d>=0;d-=1){var c=s.get(d)||new Set;c.forEach(function(v){var p=v.parent,h=v.node;if(!(o(h)||!v.parent||r.has(v.parent.key))){if(o(v.parent.node)){r.add(p.key);return}var y=!0,m=!1;(p.children||[]).filter(function(f){return!o(f.node)}).forEach(function(f){var K=f.key,x=u.has(K);y&&!x&&(y=!1),!m&&(x||l.has(K))&&(m=!0)}),y||u.delete(p.key),m&&l.add(p.key),r.add(p.key)}})}return{checkedKeys:Array.from(u),halfCheckedKeys:Array.from(lt(l,u))}}function Oe(a,i,s,e){var o=[],u;e?u=e:u=It;var l=new Set(a.filter(function(d){var c=!!j(s,d);return c||o.push(d),c})),t=new Map,n=0;Object.keys(s).forEach(function(d){var c=s[d],v=c.level,p=t.get(v);p||(p=new Set,t.set(v,p)),p.add(c),n=Math.max(n,v)}),de(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(d){return"'".concat(d,"'")}).join(", ")));var r;return i===!0?r=At(l,t,n,u):r=_t(l,i.halfCheckedKeys,t,n,u),r}var Ht=["children"];function ct(a,i){return"".concat(a,"-").concat(i)}function Ft(a){return a&&a.type&&a.type.isTreeNode}function ke(a,i){return a??i}function Ee(a){var i=a||{},s=i.title,e=i._title,o=i.key,u=i.children,l=s||"title";return{title:l,_title:e||[l],key:o||"key",children:u||"children"}}function ut(a){function i(s){var e=wt(s);return e.map(function(o){if(!Ft(o))return de(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var u=o.key,l=o.props,t=l.children,n=Ce(l,Ht),r=w({key:u},n),d=i(t);return d.length&&(r.children=d),r}).filter(function(o){return o})}return i(a)}function we(a,i,s){var e=Ee(s),o=e._title,u=e.key,l=e.children,t=new Set(i===!0?[]:i),n=[];function r(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return d.map(function(v,p){for(var h=ct(c?c.pos:"0",p),y=ke(v[u],h),m,f=0;f<o.length;f+=1){var K=o[f];if(v[K]!==void 0){m=v[K];break}}var x=w(w({},Pt(v,[].concat(Y(o),[u,l]))),{},{title:m,key:y,parent:c,pos:h,children:null,data:v,isStart:[].concat(Y(c?c.isStart:[]),[p===0]),isEnd:[].concat(Y(c?c.isEnd:[]),[p===d.length-1])});return n.push(x),i===!0||t.has(y)?x.children=r(v[l]||[],x):x.children=[],x})}return r(a),n}function zt(a,i,s){var e={};xe(s)==="object"?e=s:e={externalGetKey:s},e=e||{};var o=e,u=o.childrenPropName,l=o.externalGetKey,t=o.fieldNames,n=Ee(t),r=n.key,d=n.children,c=u||d,v;l?typeof l=="string"?v=function(y){return y[l]}:typeof l=="function"&&(v=function(y){return l(y)}):v=function(y,m){return ke(y[r],m)};function p(h,y,m,f){var K=h?h[c]:a,x=h?ct(m.pos,y):"0",k=h?[].concat(Y(f),[h]):[];if(h){var N=v(h,x),C={node:h,index:y,pos:x,key:N,parentPos:m.node?m.pos:null,level:m.level+1,nodes:k};i(C)}K&&K.forEach(function(D,b){p(D,b,{node:h,pos:x,level:m?m.level+1:-1},k)})}p(null)}function ft(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.initWrapper,e=i.processEntity,o=i.onProcessFinished,u=i.externalGetKey,l=i.childrenPropName,t=i.fieldNames,n=arguments.length>2?arguments[2]:void 0,r=u||n,d={},c={},v={posEntities:d,keyEntities:c};return s&&(v=s(v)||v),zt(a,function(p){var h=p.node,y=p.index,m=p.pos,f=p.key,K=p.parentPos,x=p.level,k=p.nodes,N={node:h,nodes:k,index:y,key:f,pos:m,level:x},C=ke(f,m);d[m]=N,c[C]=N,N.parent=d[K],N.parent&&(N.parent.children=N.parent.children||[],N.parent.children.push(N)),e&&e(N,v)},{externalGetKey:r,childrenPropName:l,fieldNames:t}),o&&o(v),v}function Ke(a,i){var s=i.expandedKeys,e=i.selectedKeys,o=i.loadedKeys,u=i.loadingKeys,l=i.checkedKeys,t=i.halfCheckedKeys,n=i.dragOverNodeKey,r=i.dropPosition,d=i.keyEntities,c=j(d,a),v={eventKey:a,expanded:s.indexOf(a)!==-1,selected:e.indexOf(a)!==-1,loaded:o.indexOf(a)!==-1,loading:u.indexOf(a)!==-1,checked:l.indexOf(a)!==-1,halfChecked:t.indexOf(a)!==-1,pos:String(c?c.pos:""),dragOver:n===a&&r===0,dragOverGapTop:n===a&&r===-1,dragOverGapBottom:n===a&&r===1};return v}function A(a){var i=a.data,s=a.expanded,e=a.selected,o=a.checked,u=a.loaded,l=a.loading,t=a.halfChecked,n=a.dragOver,r=a.dragOverGapTop,d=a.dragOverGapBottom,c=a.pos,v=a.active,p=a.eventKey,h=w(w({},i),{},{expanded:s,selected:e,checked:o,loaded:u,loading:l,halfChecked:t,dragOver:n,dragOverGapTop:r,dragOverGapBottom:d,pos:c,active:v,key:p});return"props"in h||Object.defineProperty(h,"props",{get:function(){return de(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),h}var $e=g.createContext(null);function Bt(a){var i=a.dropPosition,s=a.dropLevelOffset,e=a.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:o.top=0,o.left=-s*e;break;case 1:o.bottom=0,o.left=-s*e;break;case 0:o.bottom=0,o.left=e;break}return g.createElement("div",{style:o})}function vt(a){if(a==null)throw new TypeError("Cannot destructure "+a)}var qt=function(i){for(var s=i.prefixCls,e=i.level,o=i.isStart,u=i.isEnd,l="".concat(s,"-indent-unit"),t=[],n=0;n<e;n+=1){var r;t.push(g.createElement("span",{key:n,className:V(l,(r={},P(r,"".concat(l,"-start"),o[n]),P(r,"".concat(l,"-end"),u[n]),r))}))}return g.createElement("span",{"aria-hidden":"true",className:"".concat(s,"-indent")},t)};const Ut=g.memo(qt);var Vt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Ue="open",Ve="close",jt="---",Gt=function(a){nt(s,a);var i=at(s);function s(){var e;rt(this,s);for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return e=i.call.apply(i,[this].concat(u)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(t){var n=e.props.context.onNodeClick;n(t,A(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){var n=e.props.context.onNodeDoubleClick;n(t,A(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;n(t,A(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,d=n.checked,c=e.props.context.onNodeCheck;if(!(!e.isCheckable()||r)){var v=!d;c(t,A(e.props),v)}}},e.onMouseEnter=function(t){var n=e.props.context.onNodeMouseEnter;n(t,A(e.props))},e.onMouseLeave=function(t){var n=e.props.context.onNodeMouseLeave;n(t,A(e.props))},e.onContextMenu=function(t){var n=e.props.context.onNodeContextMenu;n(t,A(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,ie(e));try{t.dataTransfer.setData("text/plain","")}catch{}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,ie(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,ie(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,ie(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,ie(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,ie(e))},e.onExpand=function(t){var n=e.props,r=n.loading,d=n.context.onNodeExpand;r||d(t,A(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?Ue:Ve},e.hasChildren=function(){var t=e.props.eventKey,n=e.props.context.keyEntities,r=j(n,t)||{},d=r.children;return!!(d||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,d=e.props.context.loadData,c=e.hasChildren();return n===!1?!1:n||!d&&!c||d&&r&&!c},e.isDisabled=function(){var t=e.props.disabled,n=e.props.context.disabled;return!!(n||t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!n||t===!1?!1:n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,d=t.loaded,c=e.props.context,v=c.loadData,p=c.onNodeLoad;r||v&&n&&!e.isLeaf()&&!e.hasChildren()&&!d&&p(A(e.props))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!!(r&&(!r.nodeDraggable||r.nodeDraggable(n)))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return n!=null&&n.icon?g.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,d=n||r;return typeof d=="function"?d(w(w({},e.props),{},{isLeaf:t})):d},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return r!==!1?g.createElement("span",{className:V("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var d=V("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?Ue:Ve)),c=e.renderSwitcherIconDom(!1);return c!==!1?g.createElement("span",{onClick:e.onExpand,className:d},c):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,d=t.disableCheckbox,c=e.props.context.prefixCls,v=e.isDisabled(),p=e.isCheckable();if(!p)return null;var h=typeof p!="boolean"?p:null;return g.createElement("span",{className:V("".concat(c,"-checkbox"),n&&"".concat(c,"-checkbox-checked"),!n&&r&&"".concat(c,"-checkbox-indeterminate"),(v||d)&&"".concat(c,"-checkbox-disabled")),onClick:e.onCheck},h)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return g.createElement("span",{className:V("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t=e.state.dragNodeHighlight,n=e.props,r=n.title,d=r===void 0?jt:r,c=n.selected,v=n.icon,p=n.loading,h=n.data,y=e.props.context,m=y.prefixCls,f=y.showIcon,K=y.icon,x=y.loadData,k=y.titleRender,N=e.isDisabled(),C="".concat(m,"-node-content-wrapper"),D;if(f){var b=v||K;D=b?g.createElement("span",{className:V("".concat(m,"-iconEle"),"".concat(m,"-icon__customize"))},typeof b=="function"?b(e.props):b):e.renderIcon()}else x&&p&&(D=e.renderIcon());var E;typeof d=="function"?E=d(h):k?E=k(h):E=d;var S=g.createElement("span",{className:"".concat(m,"-title")},E);return g.createElement("span",{ref:e.setSelectHandle,title:typeof d=="string"?d:"",className:V("".concat(C),"".concat(C,"-").concat(e.getNodeState()||"normal"),!N&&(c||t)&&"".concat(m,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},D,S,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,d=e.props.context,c=d.draggable,v=d.dropLevelOffset,p=d.dropPosition,h=d.prefixCls,y=d.indent,m=d.dropIndicatorRender,f=d.dragOverNodeKey,K=d.direction,x=!!c,k=!n&&x&&f===r,N=y??e.cacheIndent;return e.cacheIndent=y,k?m({dropPosition:p,dropLevelOffset:v,indent:N,prefixCls:h,direction:K}):null},e}return ot(s,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var o=this.props.selectable,u=this.props.context.selectable;return typeof o=="boolean"?o:u}},{key:"render",value:function(){var o,u=this.props,l=u.eventKey,t=u.className,n=u.style,r=u.dragOver,d=u.dragOverGapTop,c=u.dragOverGapBottom,v=u.isLeaf,p=u.isStart,h=u.isEnd,y=u.expanded,m=u.selected,f=u.checked,K=u.halfChecked,x=u.loading,k=u.domRef,N=u.active;u.data;var C=u.onMouseMove,D=u.selectable,b=Ce(u,Vt),E=this.props.context,S=E.prefixCls,T=E.filterTreeNode,O=E.keyEntities,L=E.dropContainerKey,M=E.dropTargetKey,B=E.draggingNodeKey,z=this.isDisabled(),$=it(b,{aria:!0,data:!0}),_=j(O,l)||{},F=_.level,ee=h[h.length-1],U=this.isDraggable(),I=!z&&U,G=B===l,W=D!==void 0?{"aria-selected":!!D}:void 0;return g.createElement("div",H({ref:k,className:V(t,"".concat(S,"-treenode"),(o={},P(o,"".concat(S,"-treenode-disabled"),z),P(o,"".concat(S,"-treenode-switcher-").concat(y?"open":"close"),!v),P(o,"".concat(S,"-treenode-checkbox-checked"),f),P(o,"".concat(S,"-treenode-checkbox-indeterminate"),K),P(o,"".concat(S,"-treenode-selected"),m),P(o,"".concat(S,"-treenode-loading"),x),P(o,"".concat(S,"-treenode-active"),N),P(o,"".concat(S,"-treenode-leaf-last"),ee),P(o,"".concat(S,"-treenode-draggable"),U),P(o,"dragging",G),P(o,"drop-target",M===l),P(o,"drop-container",L===l),P(o,"drag-over",!z&&r),P(o,"drag-over-gap-top",!z&&d),P(o,"drag-over-gap-bottom",!z&&c),P(o,"filter-node",T&&T(A(this.props))),o)),style:n,draggable:I,"aria-grabbed":G,onDragStart:I?this.onDragStart:void 0,onDragEnter:U?this.onDragEnter:void 0,onDragOver:U?this.onDragOver:void 0,onDragLeave:U?this.onDragLeave:void 0,onDrop:U?this.onDrop:void 0,onDragEnd:U?this.onDragEnd:void 0,onMouseMove:C},W,$),g.createElement(Ut,{prefixCls:S,level:F,isStart:p,isEnd:h}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),s}(g.Component),he=function(i){return g.createElement($e.Consumer,null,function(s){return g.createElement(Gt,H({},i,{context:s}))})};he.displayName="TreeNode";he.isTreeNode=1;function Wt(a,i){var s=g.useState(!1),e=Z(s,2),o=e[0],u=e[1];g.useLayoutEffect(function(){if(o)return a(),function(){i()}},[o]),g.useLayoutEffect(function(){return u(!0),function(){u(!1)}},[])}var Yt=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],pt=function(i,s){var e=i.className,o=i.style,u=i.motion,l=i.motionNodes,t=i.motionType,n=i.onMotionStart,r=i.onMotionEnd,d=i.active,c=i.treeNodeRequiredProps,v=Ce(i,Yt),p=g.useState(!0),h=Z(p,2),y=h[0],m=h[1],f=g.useContext($e),K=f.prefixCls,x=l&&t!=="hide";dt(function(){l&&x!==y&&m(x)},[l]);var k=function(){l&&n()},N=g.useRef(!1),C=function(){l&&!N.current&&(N.current=!0,r())};Wt(k,C);var D=function(E){x===E&&C()};return l?g.createElement(Tt,H({ref:s,visible:y},u,{motionAppear:t==="show",onVisibleChanged:D}),function(b,E){var S=b.className,T=b.style;return g.createElement("div",{ref:E,className:V("".concat(K,"-treenode-motion"),S),style:T},l.map(function(O){var L=H({},(vt(O.data),O.data)),M=O.title,B=O.key,z=O.isStart,$=O.isEnd;delete L.children;var _=Ke(B,c);return g.createElement(he,H({},L,_,{title:M,active:d,data:O.data,key:B,isStart:z,isEnd:$}))}))}):g.createElement(he,H({domRef:s,className:e,style:o},v,{active:d}))};pt.displayName="MotionTreeNode";var Xt=g.forwardRef(pt);function Jt(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=a.length,e=i.length;if(Math.abs(s-e)!==1)return{add:!1,key:null};function o(u,l){var t=new Map;u.forEach(function(r){t.set(r,!0)});var n=l.filter(function(r){return!t.has(r)});return n.length===1?n[0]:null}return s<e?{add:!0,key:o(a,i)}:{add:!1,key:o(i,a)}}function je(a,i,s){var e=a.findIndex(function(t){return t.key===s}),o=a[e+1],u=i.findIndex(function(t){return t.key===s});if(o){var l=i.findIndex(function(t){return t.key===o.key});return i.slice(u+1,l)}return i.slice(u+1)}var Qt=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Ge={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Zt=function(){},ue="RC_TREE_MOTION_".concat(Math.random()),Le={key:ue},ht={key:ue,level:0,index:0,pos:"0",node:Le,nodes:[Le]},We={parent:null,children:[],pos:ht.pos,data:Le,title:null,key:ue,isStart:[],isEnd:[]};function Ye(a,i,s,e){return i===!1||!s?a:a.slice(0,Math.ceil(s/e)+1)}function Xe(a){var i=a.key,s=a.pos;return ke(i,s)}function en(a){for(var i=String(a.data.key),s=a;s.parent;)s=s.parent,i="".concat(s.data.key," > ").concat(i);return i}var gt=g.forwardRef(function(a,i){var s=a.prefixCls,e=a.data;a.selectable,a.checkable;var o=a.expandedKeys,u=a.selectedKeys,l=a.checkedKeys,t=a.loadedKeys,n=a.loadingKeys,r=a.halfCheckedKeys,d=a.keyEntities,c=a.disabled,v=a.dragging,p=a.dragOverNodeKey,h=a.dropPosition,y=a.motion,m=a.height,f=a.itemHeight,K=a.virtual,x=a.focusable,k=a.activeItem,N=a.focused,C=a.tabIndex,D=a.onKeyDown,b=a.onFocus,E=a.onBlur,S=a.onActiveChange,T=a.onListChangeStart,O=a.onListChangeEnd,L=Ce(a,Qt),M=g.useRef(null),B=g.useRef(null);g.useImperativeHandle(i,function(){return{scrollTo:function(re){M.current.scrollTo(re)},getIndentWidth:function(){return B.current.offsetWidth}}});var z=g.useState(o),$=Z(z,2),_=$[0],F=$[1],ee=g.useState(e),U=Z(ee,2),I=U[0],G=U[1],W=g.useState(e),X=Z(W,2),te=X[0],ne=X[1],ge=g.useState([]),q=Z(ge,2),be=q[0],ae=q[1],Dt=g.useState(null),He=Z(Dt,2),St=He[0],De=He[1],Fe=g.useRef(e);Fe.current=e;function Se(){var R=Fe.current;G(R),ne(R),ae([]),De(null),O()}dt(function(){F(o);var R=Jt(_,o);if(R.key!==null)if(R.add){var re=I.findIndex(function(ye){var me=ye.key;return me===R.key}),se=Ye(je(I,e,R.key),K,m,f),ve=I.slice();ve.splice(re+1,0,We),ne(ve),ae(se),De("show")}else{var le=e.findIndex(function(ye){var me=ye.key;return me===R.key}),ce=Ye(je(e,I,R.key),K,m,f),Ne=e.slice();Ne.splice(le+1,0,We),ne(Ne),ae(ce),De("hide")}else I!==e&&(G(e),ne(e))},[o,e]),g.useEffect(function(){v||Se()},[v]);var Ot=y?te:e,ze={expandedKeys:o,selectedKeys:u,loadedKeys:t,loadingKeys:n,checkedKeys:l,halfCheckedKeys:r,dragOverNodeKey:p,dropPosition:h,keyEntities:d};return g.createElement(g.Fragment,null,N&&k&&g.createElement("span",{style:Ge,"aria-live":"assertive"},en(k)),g.createElement("div",null,g.createElement("input",{style:Ge,disabled:x===!1||c,tabIndex:x!==!1?C:null,onKeyDown:D,onFocus:b,onBlur:E,value:"",onChange:Zt,"aria-label":"for screen reader"})),g.createElement("div",{className:"".concat(s,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},g.createElement("div",{className:"".concat(s,"-indent")},g.createElement("div",{ref:B,className:"".concat(s,"-indent-unit")}))),g.createElement(Lt,H({},L,{data:Ot,itemKey:Xe,height:m,fullHeight:!1,virtual:K,itemHeight:f,prefixCls:"".concat(s,"-list"),ref:M,onVisibleChange:function(re,se){var ve=new Set(re),le=se.filter(function(ce){return!ve.has(ce)});le.some(function(ce){return Xe(ce)===ue})&&Se()}}),function(R){var re=R.pos,se=H({},(vt(R.data),R.data)),ve=R.title,le=R.key,ce=R.isStart,Ne=R.isEnd,ye=ke(le,re);delete se.key,delete se.children;var me=Ke(ye,ze);return g.createElement(Xt,H({},se,me,{title:ve,active:!!k&&le===k.key,pos:re,data:R.data,isStart:ce,isEnd:Ne,motion:y,motionNodes:le===ue?be:null,motionType:St,onMotionStart:T,onMotionEnd:Se,treeNodeRequiredProps:ze,onMouseMove:function(){S(null)}}))}))});gt.displayName="NodeList";function J(a,i){if(!a)return[];var s=a.slice(),e=s.indexOf(i);return e>=0&&s.splice(e,1),s}function oe(a,i){var s=(a||[]).slice();return s.indexOf(i)===-1&&s.push(i),s}function Re(a){return a.split("-")}function tn(a,i){var s=[],e=j(i,a);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u.forEach(function(l){var t=l.key,n=l.children;s.push(t),o(n)})}return o(e.children),s}function nn(a){if(a.parent){var i=Re(a.pos);return Number(i[i.length-1])===a.parent.children.length-1}return!1}function an(a){var i=Re(a.pos);return Number(i[i.length-1])===0}function Je(a,i,s,e,o,u,l,t,n,r){var d,c=a.clientX,v=a.clientY,p=a.target.getBoundingClientRect(),h=p.top,y=p.height,m=(r==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-c),f=(m-12)/e,K=j(t,s.props.eventKey);if(v<h+y/2){var x=l.findIndex(function(B){return B.key===K.key}),k=x<=0?0:x-1,N=l[k].key;K=j(t,N)}var C=K.key,D=K,b=K.key,E=0,S=0;if(!n.includes(C))for(var T=0;T<f&&nn(K);T+=1)K=K.parent,S+=1;var O=i.props.data,L=K.node,M=!0;return an(K)&&K.level===0&&v<h+y/2&&u({dragNode:O,dropNode:L,dropPosition:-1})&&K.key===s.props.eventKey?E=-1:(D.children||[]).length&&n.includes(b)?u({dragNode:O,dropNode:L,dropPosition:0})?E=0:M=!1:S===0?f>-1.5?u({dragNode:O,dropNode:L,dropPosition:1})?E=1:M=!1:u({dragNode:O,dropNode:L,dropPosition:0})?E=0:u({dragNode:O,dropNode:L,dropPosition:1})?E=1:M=!1:u({dragNode:O,dropNode:L,dropPosition:1})?E=1:M=!1,{dropPosition:E,dropLevelOffset:S,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:b,dropContainerKey:E===0?null:((d=K.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:M}}function Qe(a,i){if(a){var s=i.multiple;return s?a.slice():a.length?[a[0]]:a}}function Pe(a){if(!a)return null;var i;if(Array.isArray(a))i={checkedKeys:a,halfCheckedKeys:void 0};else if(xe(a)==="object")i={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return de(!1,"`checkedKeys` is not an array or an object"),null;return i}function Me(a,i){var s=new Set;function e(o){if(!s.has(o)){var u=j(i,o);if(u){s.add(o);var l=u.parent,t=u.node;t.disabled||l&&e(l.key)}}}return(a||[]).forEach(function(o){e(o)}),Y(s)}var rn=10,Ie=function(a){nt(s,a);var i=at(s);function s(){var e;rt(this,s);for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return e=i.call.apply(i,[this].concat(u)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Ee()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=g.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,d=r.expandedKeys,c=r.keyEntities,v=e.props.onDragStart,p=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var h=J(d,p);e.setState({draggingNodeKey:p,dragChildrenKeys:tn(p,c),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(h),window.addEventListener("dragend",e.onWindowDragEnd),v==null||v({event:t,node:A(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,d=r.expandedKeys,c=r.keyEntities,v=r.dragChildrenKeys,p=r.flattenNodes,h=r.indent,y=e.props,m=y.onDragEnter,f=y.onExpand,K=y.allowDrop,x=y.direction,k=n.props,N=k.pos,C=k.eventKey,D=ie(e),b=D.dragNode;if(e.currentMouseOverDroppableNodeKey!==C&&(e.currentMouseOverDroppableNodeKey=C),!b){e.resetDragState();return}var E=Je(t,b,n,h,e.dragStartMousePosition,K,p,c,d,x),S=E.dropPosition,T=E.dropLevelOffset,O=E.dropTargetKey,L=E.dropContainerKey,M=E.dropTargetPos,B=E.dropAllowed,z=E.dragOverNodeKey;if(v.indexOf(O)!==-1||!B){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function($){clearTimeout(e.delayedDragEnterLogic[$])}),b.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[N]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var $=Y(d),_=j(c,n.props.eventKey);_&&(_.children||[]).length&&($=oe(d,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys($),f==null||f($,{node:A(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),b.props.eventKey===O&&T===0){e.resetDragState();return}e.setState({dragOverNodeKey:z,dropPosition:S,dropLevelOffset:T,dropTargetKey:O,dropContainerKey:L,dropTargetPos:M,dropAllowed:B}),m==null||m({event:t,node:A(n.props),expandedKeys:d})},e.onNodeDragOver=function(t,n){var r=e.state,d=r.dragChildrenKeys,c=r.flattenNodes,v=r.keyEntities,p=r.expandedKeys,h=r.indent,y=e.props,m=y.onDragOver,f=y.allowDrop,K=y.direction,x=ie(e),k=x.dragNode;if(k){var N=Je(t,k,n,h,e.dragStartMousePosition,f,c,v,p,K),C=N.dropPosition,D=N.dropLevelOffset,b=N.dropTargetKey,E=N.dropContainerKey,S=N.dropAllowed,T=N.dropTargetPos,O=N.dragOverNodeKey;d.indexOf(b)!==-1||!S||(k.props.eventKey===b&&D===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():C===e.state.dropPosition&&D===e.state.dropLevelOffset&&b===e.state.dropTargetKey&&E===e.state.dropContainerKey&&T===e.state.dropTargetPos&&S===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:C,dropLevelOffset:D,dropTargetKey:b,dropContainerKey:E,dropTargetPos:T,dropAllowed:S,dragOverNodeKey:O}),m==null||m({event:t,node:A(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey===n.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:A(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:A(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,n){var r,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=e.state,v=c.dragChildrenKeys,p=c.dropPosition,h=c.dropTargetKey,y=c.dropTargetPos,m=c.dropAllowed;if(m){var f=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),h!==null){var K=w(w({},Ke(h,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===h,data:j(e.state.keyEntities,h).node}),x=v.indexOf(h)!==-1;de(!x,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var k=Re(y),N={event:t,node:A(K),dragNode:e.dragNode?A(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(v),dropToGap:p!==0,dropPosition:p+Number(k[k.length-1])};d||f==null||f(N),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,n){var r=e.state,d=r.expandedKeys,c=r.flattenNodes,v=n.expanded,p=n.key,h=n.isLeaf;if(!(h||t.shiftKey||t.metaKey||t.ctrlKey)){var y=c.filter(function(f){return f.key===p})[0],m=A(w(w({},Ke(p,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(v?J(d,p):oe(d,p)),e.onNodeExpand(t,m)}},e.onNodeClick=function(t,n){var r=e.props,d=r.onClick,c=r.expandAction;c==="click"&&e.triggerExpandActionExpand(t,n),d==null||d(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props,d=r.onDoubleClick,c=r.expandAction;c==="doubleClick"&&e.triggerExpandActionExpand(t,n),d==null||d(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,d=e.state,c=d.keyEntities,v=d.fieldNames,p=e.props,h=p.onSelect,y=p.multiple,m=n.selected,f=n[v.key],K=!m;K?y?r=oe(r,f):r=[f]:r=J(r,f);var x=r.map(function(k){var N=j(c,k);return N?N.node:null}).filter(function(k){return k});e.setUncontrolledState({selectedKeys:r}),h==null||h(r,{event:"select",selected:K,node:n,selectedNodes:x,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var d=e.state,c=d.keyEntities,v=d.checkedKeys,p=d.halfCheckedKeys,h=e.props,y=h.checkStrictly,m=h.onCheck,f=n.key,K,x={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(y){var k=r?oe(v,f):J(v,f),N=J(p,f);K={checked:k,halfChecked:N},x.checkedNodes=k.map(function(T){return j(c,T)}).filter(function(T){return T}).map(function(T){return T.node}),e.setUncontrolledState({checkedKeys:k})}else{var C=Oe([].concat(Y(v),[f]),!0,c),D=C.checkedKeys,b=C.halfCheckedKeys;if(!r){var E=new Set(D);E.delete(f);var S=Oe(Array.from(E),{checked:!1,halfCheckedKeys:b},c);D=S.checkedKeys,b=S.halfCheckedKeys}K=D,x.checkedNodes=[],x.checkedNodesPositions=[],x.halfCheckedKeys=b,D.forEach(function(T){var O=j(c,T);if(O){var L=O.node,M=O.pos;x.checkedNodes.push(L),x.checkedNodesPositions.push({node:L,pos:M})}}),e.setUncontrolledState({checkedKeys:D},!1,{halfCheckedKeys:b})}m==null||m(K,x)},e.onNodeLoad=function(t){var n=t.key,r=new Promise(function(d,c){e.setState(function(v){var p=v.loadedKeys,h=p===void 0?[]:p,y=v.loadingKeys,m=y===void 0?[]:y,f=e.props,K=f.loadData,x=f.onLoad;if(!K||h.indexOf(n)!==-1||m.indexOf(n)!==-1)return null;var k=K(t);return k.then(function(){var N=e.state.loadedKeys,C=oe(N,n);x==null||x(C,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:C}),e.setState(function(D){return{loadingKeys:J(D.loadingKeys,n)}}),d()}).catch(function(N){if(e.setState(function(D){return{loadingKeys:J(D.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=rn){var C=e.state.loadedKeys;de(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:oe(C,n)}),d()}c(N)}),{loadingKeys:oe(m,n)}})});return r.catch(function(){}),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;r==null||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;r==null||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];t==null||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];t==null||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state,n=t.expandedKeys,r=t.selectedKeys,d=t.loadedKeys,c=t.loadingKeys,v=t.checkedKeys,p=t.halfCheckedKeys,h=t.dragOverNodeKey,y=t.dropPosition,m=t.keyEntities;return{expandedKeys:n||[],selectedKeys:r||[],loadedKeys:d||[],loadingKeys:c||[],checkedKeys:v||[],halfCheckedKeys:p||[],dragOverNodeKey:h,dropPosition:y,keyEntities:m}},e.setExpandedKeys=function(t){var n=e.state,r=n.treeData,d=n.fieldNames,c=we(r,t,d);e.setUncontrolledState({expandedKeys:t,flattenNodes:c},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,d=e.state,c=d.listChanging,v=d.fieldNames,p=e.props,h=p.onExpand,y=p.loadData,m=n.expanded,f=n[v.key];if(!c){var K=r.indexOf(f),x=!m;if(de(m&&K!==-1||!m&&K===-1,"Expand state not sync with index check"),x?r=oe(r,f):r=J(r,f),e.setExpandedKeys(r),h==null||h(r,{node:n,expanded:x,nativeEvent:t.nativeEvent}),x&&y){var k=e.onNodeLoad(n);k&&k.then(function(){var N=we(e.state.treeData,r,v);e.setUncontrolledState({flattenNodes:N})}).catch(function(){var N=e.state.expandedKeys,C=J(N,f);e.setExpandedKeys(C)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t}),r==null||r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return n===null?null:r.find(function(d){var c=d.key;return c===n})||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,d=n.activeKey,c=r.findIndex(function(h){var y=h.key;return y===d});c===-1&&t<0&&(c=r.length),c=(c+t+r.length)%r.length;var v=r[c];if(v){var p=v.key;e.onActiveChange(p)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,d=n.expandedKeys,c=n.checkedKeys,v=n.fieldNames,p=e.props,h=p.onKeyDown,y=p.checkable,m=p.selectable;switch(t.which){case pe.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case pe.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var f=e.getActiveItem();if(f&&f.data){var K=e.getTreeNodeRequiredProps(),x=f.data.isLeaf===!1||!!(f.data[v.children]||[]).length,k=A(w(w({},Ke(r,K)),{},{data:f.data,active:!0}));switch(t.which){case pe.LEFT:{x&&d.includes(r)?e.onNodeExpand({},k):f.parent&&e.onActiveChange(f.parent.key),t.preventDefault();break}case pe.RIGHT:{x&&!d.includes(r)?e.onNodeExpand({},k):f.children&&f.children.length&&e.onActiveChange(f.children[0].key),t.preventDefault();break}case pe.ENTER:case pe.SPACE:{y&&!k.disabled&&k.checkable!==!1&&!k.disableCheckbox?e.onNodeCheck({},k,!c.includes(r)):!y&&m&&!k.disabled&&k.selectable!==!1&&e.onNodeSelect({},k);break}}}h==null||h(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,c=!0,v={};Object.keys(t).forEach(function(p){if(p in e.props){c=!1;return}d=!0,v[p]=t[p]}),d&&(!n||c)&&e.setState(w(w({},v),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return ot(s,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props.activeKey;o!==void 0&&o!==this.state.activeKey&&(this.setState({activeKey:o}),o!==null&&this.scrollTo({key:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o,u=this.state,l=u.focused,t=u.flattenNodes,n=u.keyEntities,r=u.draggingNodeKey,d=u.activeKey,c=u.dropLevelOffset,v=u.dropContainerKey,p=u.dropTargetKey,h=u.dropPosition,y=u.dragOverNodeKey,m=u.indent,f=this.props,K=f.prefixCls,x=f.className,k=f.style,N=f.showLine,C=f.focusable,D=f.tabIndex,b=D===void 0?0:D,E=f.selectable,S=f.showIcon,T=f.icon,O=f.switcherIcon,L=f.draggable,M=f.checkable,B=f.checkStrictly,z=f.disabled,$=f.motion,_=f.loadData,F=f.filterTreeNode,ee=f.height,U=f.itemHeight,I=f.virtual,G=f.titleRender,W=f.dropIndicatorRender,X=f.onContextMenu,te=f.onScroll,ne=f.direction,ge=f.rootClassName,q=f.rootStyle,be=it(this.props,{aria:!0,data:!0}),ae;return L&&(xe(L)==="object"?ae=L:typeof L=="function"?ae={nodeDraggable:L}:ae={}),g.createElement($e.Provider,{value:{prefixCls:K,selectable:E,showIcon:S,icon:T,switcherIcon:O,draggable:ae,draggingNodeKey:r,checkable:M,checkStrictly:B,disabled:z,keyEntities:n,dropLevelOffset:c,dropContainerKey:v,dropTargetKey:p,dropPosition:h,dragOverNodeKey:y,indent:m,direction:ne,dropIndicatorRender:W,loadData:_,filterTreeNode:F,titleRender:G,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},g.createElement("div",{role:"tree",className:V(K,x,ge,(o={},P(o,"".concat(K,"-show-line"),N),P(o,"".concat(K,"-focused"),l),P(o,"".concat(K,"-active-focused"),d!==null),o)),style:q},g.createElement(gt,H({ref:this.listRef,prefixCls:K,style:k,data:t,disabled:z,selectable:E,checkable:!!M,motion:$,dragging:r!==null,height:ee,itemHeight:U,virtual:I,focusable:C,focused:l,tabIndex:b,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:X,onScroll:te},this.getTreeNodeRequiredProps(),be))))}}],[{key:"getDerivedStateFromProps",value:function(o,u){var l=u.prevProps,t={prevProps:o};function n(C){return!l&&C in o||l&&l[C]!==o[C]}var r,d=u.fieldNames;if(n("fieldNames")&&(d=Ee(o.fieldNames),t.fieldNames=d),n("treeData")?r=o.treeData:n("children")&&(de(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=ut(o.children)),r){t.treeData=r;var c=ft(r,{fieldNames:d});t.keyEntities=w(P({},ue,ht),c.keyEntities)}var v=t.keyEntities||u.keyEntities;if(n("expandedKeys")||l&&n("autoExpandParent"))t.expandedKeys=o.autoExpandParent||!l&&o.defaultExpandParent?Me(o.expandedKeys,v):o.expandedKeys;else if(!l&&o.defaultExpandAll){var p=w({},v);delete p[ue],t.expandedKeys=Object.keys(p).map(function(C){return p[C].key})}else!l&&o.defaultExpandedKeys&&(t.expandedKeys=o.autoExpandParent||o.defaultExpandParent?Me(o.defaultExpandedKeys,v):o.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var h=we(r||u.treeData,t.expandedKeys||u.expandedKeys,d);t.flattenNodes=h}if(o.selectable&&(n("selectedKeys")?t.selectedKeys=Qe(o.selectedKeys,o):!l&&o.defaultSelectedKeys&&(t.selectedKeys=Qe(o.defaultSelectedKeys,o))),o.checkable){var y;if(n("checkedKeys")?y=Pe(o.checkedKeys)||{}:!l&&o.defaultCheckedKeys?y=Pe(o.defaultCheckedKeys)||{}:r&&(y=Pe(o.checkedKeys)||{checkedKeys:u.checkedKeys,halfCheckedKeys:u.halfCheckedKeys}),y){var m=y,f=m.checkedKeys,K=f===void 0?[]:f,x=m.halfCheckedKeys,k=x===void 0?[]:x;if(!o.checkStrictly){var N=Oe(K,!0,v);K=N.checkedKeys,k=N.halfCheckedKeys}t.checkedKeys=K,t.halfCheckedKeys=k}}return n("loadedKeys")&&(t.loadedKeys=o.loadedKeys),t}}]),s}(g.Component);Ie.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Bt,allowDrop:function(){return!0},expandAction:!1};Ie.TreeNode=he;var on={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const dn=on;var yt=function(i,s){return g.createElement(fe,w(w({},i),{},{ref:s,icon:dn}))};yt.displayName="HolderOutlined";const sn=g.forwardRef(yt);var Ze=4;function ln(a){var i=a.dropPosition,s=a.dropLevelOffset,e=a.prefixCls,o=a.indent,u=a.direction,l=u===void 0?"ltr":u,t=l==="ltr"?"left":"right",n=l==="ltr"?"right":"left",r=P(P({},t,-s*o+Ze),n,0);switch(i){case-1:r.top=-3;break;case 1:r.bottom=-3;break;default:r.bottom=-3,r[t]=o+Ze;break}return Mt.createElement("div",{style:r,className:"".concat(e,"-drop-indicator")})}var cn={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const un=cn;var mt=function(i,s){return g.createElement(fe,w(w({},i),{},{ref:s,icon:un}))};mt.displayName="CaretDownFilled";const fn=g.forwardRef(mt);var vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const pn=vn;var Kt=function(i,s){return g.createElement(fe,w(w({},i),{},{ref:s,icon:pn}))};Kt.displayName="FileOutlined";const xt=g.forwardRef(Kt);var hn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const gn=hn;var kt=function(i,s){return g.createElement(fe,w(w({},i),{},{ref:s,icon:gn}))};kt.displayName="MinusSquareOutlined";const yn=g.forwardRef(kt);var mn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Kn=mn;var Nt=function(i,s){return g.createElement(fe,w(w({},i),{},{ref:s,icon:Kn}))};Nt.displayName="PlusSquareOutlined";const xn=g.forwardRef(Nt);function kn(a,i,s,e){var o=e.isLeaf,u=e.expanded,l=e.loading;if(l)return g.createElement($t,{className:"".concat(a,"-switcher-loading-icon")});var t;if(s&&xe(s)==="object"&&(t=s.showLeafIcon),o){if(!s)return null;if(typeof t!="boolean"&&t){var n=typeof t=="function"?t(e):t,r="".concat(a,"-switcher-line-custom-icon");return Be(n)?qe(n,{className:V(n.props.className||"",r)}):n}return t?g.createElement(xt,{className:"".concat(a,"-switcher-line-icon")}):g.createElement("span",{className:"".concat(a,"-switcher-leaf-line")})}var d="".concat(a,"-switcher-icon"),c=typeof i=="function"?i(e):i;return Be(c)?qe(c,{className:V(c.props.className||"",d)}):c||(s?u?g.createElement(yn,{className:"".concat(a,"-switcher-line-icon")}):g.createElement(xn,{className:"".concat(a,"-switcher-line-icon")}):g.createElement(fn,{className:d}))}var Nn=g.forwardRef(function(a,i){var s=g.useContext(st),e=s.getPrefixCls,o=s.direction,u=s.virtual,l=a.prefixCls,t=a.className,n=a.showIcon,r=n===void 0?!1:n,d=a.showLine,c=a.switcherIcon,v=a.blockNode,p=v===void 0?!1:v,h=a.children,y=a.checkable,m=y===void 0?!1:y,f=a.selectable,K=f===void 0?!0:f,x=a.draggable,k=a.motion,N=k===void 0?H(H({},Rt),{motionAppear:!1}):k,C=e("tree",l),D=H(H({},a),{checkable:m,selectable:K,showIcon:r,motion:N,blockNode:p,showLine:!!d,dropIndicatorRender:ln}),b=g.useMemo(function(){if(!x)return!1;var E={};switch(xe(x)){case"function":E.nodeDraggable=x;break;case"object":E=H({},x);break}return E.icon!==!1&&(E.icon=E.icon||g.createElement(sn,null)),E},[x]);return g.createElement(Ie,H({itemHeight:20,ref:i,virtual:u},D,{prefixCls:C,className:V(P(P(P(P({},"".concat(C,"-icon-hide"),!r),"".concat(C,"-block-node"),p),"".concat(C,"-unselectable"),!K),"".concat(C,"-rtl"),o==="rtl"),t),direction:o,checkable:m&&g.createElement("span",{className:"".concat(C,"-checkbox-inner")}),selectable:K,switcherIcon:function(S){return kn(C,c,d,S)},draggable:b}),h)});const Et=Nn;var En={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const Cn=En;var Ct=function(i,s){return g.createElement(fe,w(w({},i),{},{ref:s,icon:Cn}))};Ct.displayName="FolderOpenOutlined";const bn=g.forwardRef(Ct);var Dn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const Sn=Dn;var bt=function(i,s){return g.createElement(fe,w(w({},i),{},{ref:s,icon:Sn}))};bt.displayName="FolderOutlined";const On=g.forwardRef(bt);var Q;(function(a){a[a.None=0]="None",a[a.Start=1]="Start",a[a.End=2]="End"})(Q||(Q={}));function Ae(a,i){function s(e){var o=e.key,u=e.children;i(o,e)!==!1&&Ae(u||[],i)}a.forEach(s)}function wn(a){var i=a.treeData,s=a.expandedKeys,e=a.startKey,o=a.endKey,u=[],l=Q.None;if(e&&e===o)return[e];if(!e||!o)return[];function t(n){return n===e||n===o}return Ae(i,function(n){if(l===Q.End)return!1;if(t(n)){if(u.push(n),l===Q.None)l=Q.Start;else if(l===Q.Start)return l=Q.End,!1}else l===Q.Start&&u.push(n);return s.includes(n)}),u}function Te(a,i){var s=Y(i),e=[];return Ae(a,function(o,u){var l=s.indexOf(o);return l!==-1&&(e.push(u),s.splice(l,1)),!!s.length}),e}var et=function(a,i){var s={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&i.indexOf(e)<0&&(s[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(a);o<e.length;o++)i.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(a,e[o])&&(s[e[o]]=a[e[o]]);return s};function Pn(a){var i=a.isLeaf,s=a.expanded;return i?g.createElement(xt,null):s?g.createElement(bn,null):g.createElement(On,null)}function tt(a){var i=a.treeData,s=a.children;return i||ut(s)}var Tn=function(i,s){var e=i.defaultExpandAll,o=i.defaultExpandParent,u=i.defaultExpandedKeys,l=et(i,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),t=g.useRef(),n=g.useRef(),r=function(){var $=ft(tt(l)),_=$.keyEntities,F;return e?F=Object.keys(_):o?F=Me(l.expandedKeys||u||[],_):F=l.expandedKeys||u,F},d=g.useState(l.selectedKeys||l.defaultSelectedKeys||[]),c=Z(d,2),v=c[0],p=c[1],h=g.useState(function(){return r()}),y=Z(h,2),m=y[0],f=y[1];g.useEffect(function(){"selectedKeys"in l&&p(l.selectedKeys)},[l.selectedKeys]),g.useEffect(function(){"expandedKeys"in l&&f(l.expandedKeys)},[l.expandedKeys]);var K=function($,_){var F;return"expandedKeys"in l||f($),(F=l.onExpand)===null||F===void 0?void 0:F.call(l,$,_)},x=function($,_){var F,ee=l.multiple,U=_.node,I=_.nativeEvent,G=U.key,W=G===void 0?"":G,X=tt(l),te=H(H({},_),{selected:!0}),ne=(I==null?void 0:I.ctrlKey)||(I==null?void 0:I.metaKey),ge=I==null?void 0:I.shiftKey,q;ee&&ne?(q=$,t.current=W,n.current=q,te.selectedNodes=Te(X,q)):ee&&ge?(q=Array.from(new Set([].concat(Y(n.current||[]),Y(wn({treeData:X,expandedKeys:m,startKey:W,endKey:t.current}))))),te.selectedNodes=Te(X,q)):(q=[W],t.current=W,n.current=q,te.selectedNodes=Te(X,q)),(F=l.onSelect)===null||F===void 0||F.call(l,q,te),"selectedKeys"in l||p(q)},k=g.useContext(st),N=k.getPrefixCls,C=k.direction,D=l.prefixCls,b=l.className,E=l.showIcon,S=E===void 0?!0:E,T=l.expandAction,O=T===void 0?"click":T,L=et(l,["prefixCls","className","showIcon","expandAction"]),M=N("tree",D),B=V("".concat(M,"-directory"),P({},"".concat(M,"-directory-rtl"),C==="rtl"),b);return g.createElement(Et,H({icon:Pn,ref:s,blockNode:!0},L,{showIcon:S,expandAction:O,prefixCls:M,className:B,expandedKeys:m,selectedKeys:v,onSelect:x,onExpand:K}))},Ln=g.forwardRef(Tn);const Mn=Ln;var _e=Et;_e.DirectoryTree=Mn;_e.TreeNode=he;const In=_e;export{xn as P,In as T,Oe as a,J as b,ft as c,oe as d};
