import{a,j as e,d as E}from"./vendor.aa9f5085.js";import{i as R}from"./isEqual.31b5dcfb.js";import{i as w,G as M,u as B,R as L,C as _,a as q,T,c as S,A as Y,h as F}from"./index.bd197d1a.js";import{L as P}from"./index.e14e48dc.js";import{L as m}from"./index.3e30f075.js";import"./Pagination.fbe979fe.js";const $="_container_fdjqt_1",b={container:$},j=n=>{const[l,h]=a.exports.useState(),[o,g]=a.exports.useState(),[d,y]=a.exports.useState(0);a.exports.useState(0);const c=a.exports.useRef(0),p=a.exports.useRef(),f=a.exports.useRef(),t=a.exports.useRef({index:0,offset:0}),s=a.exports.useRef(0),i=22,C=3;let D=0;a.exports.useEffect(()=>{h(n.data),g(n.data.slice(0,30)),y(i*n.data.length)},[n]);const N=a.exports.useCallback(r=>{const u=r.target,x=u.scrollTop-s.current;s.current=u.scrollTop,t.current.offset+=x,Math.min(l.length-D,t.current.index-C),A(u)},[l,t]),A=a.exports.useCallback(r=>{const u=Math.floor(r.scrollTop/i),x=r.scrollTop-i*u;t.current={index:u,offset:x},H()},[d]),H=()=>{g(n.data.slice(t.current.index,t.current.index+30)),c.current=c.current>=d?23*22-d:t.current.index*i+t.current.offset},I=a.exports.useMemo(()=>o==null?void 0:o.map((r,u)=>e("li",{ref:p,item:r,ind:r._id,children:r._id},r._id)),[o,c]);return E("div",{onScroll:N,ref:f,className:b.container,children:[e("div",{className:b.sentry,style:{transform:`translateY(${c.current}px)`}}),e("div",{style:{transform:`translateY(${c.current}px)`,height:d},className:b.wrapItem,children:I})]})};a.exports.memo(j,(n,l)=>R(n,l));const k={getLogs:"/admin/logs",testPayment:"/payment"},G={getLogs:()=>w.get(k.getLogs),testPayment:n=>w.post(k.testPayment,n)};function z(n){return M({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",stroke:"#000",strokeLinejoin:"round",strokeWidth:"2",d:"M12,3 L22,21 L2,21 L12,3 Z M12,9 L12,15 M12,16 L12,18"}}]})(n)}const O="_inline_e6qql_78",V="_box__shadow_e6qql_139",W="_ava_e6qql_161",K="_list_e6qql_169",U="_tabs_e6qql_194",v={"ant-table-scroll-horizontal":"_ant-table-scroll-horizontal_e6qql_1","ant-table-container":"_ant-table-container_e6qql_1","ant-table-content":"_ant-table-content_e6qql_1","ant-layout-sider-trigger":"_ant-layout-sider-trigger_e6qql_24","ant-layout-footer":"_ant-layout-footer_e6qql_29","ant-form-item-control-input-content":"_ant-form-item-control-input-content_e6qql_33","ant-picker":"_ant-picker_e6qql_48","ant-select-selector":"_ant-select-selector_e6qql_49","ant-form-item":"_ant-form-item_e6qql_33","ant-row":"_ant-row_e6qql_62","site-layout-background":"_site-layout-background_e6qql_66","spin-suspense":"_spin-suspense_e6qql_70",inline:O,"cc-scroll":"_cc-scroll_e6qql_90","cc-card":"_cc-card_e6qql_114",box__shadow:V,"ant-tabs-content-holder":"_ant-tabs-content-holder_e6qql_143","ant-tabs-content":"_ant-tabs-content_e6qql_143","ant-tabs-tabpane":"_ant-tabs-tabpane_e6qql_149",ava:W,list:K,tabs:U},{TabPane:Z}=T,at=()=>{const n=a.exports.useRef(),[l,h]=a.exports.useState(100),{data:o,isFetching:g,isLoading:d,status:y}=B(["logs"],async()=>await G.getLogs(),{staleTime:60*1e3,refetchOnWindowFocus:!0});a.exports.useEffect(()=>{c()},[]);const c=()=>{let t=document.querySelector(".ant-layout-content"),{height:s}=t==null?void 0:t.getBoundingClientRect();h(s-156)},p=(t,s)=>{t.currentTarget.scrollHeight-t.currentTarget.scrollTop===l&&f()},f=()=>{var i;let t=o.length,s=o;s=[...s,...(i=logs._logs)==null?void 0:i.slice(t,t+20)],setData(s)};return o&&(n.current=o.data.data,console.log("logsRef.current",n.current)),E(L,{children:[e(_,{span:16,children:e(q,{title:"Logs h\u1EC7 th\u1ED1ng",className:"box__shadow",children:e(T,{defaultActiveKey:"1",destroyInactiveTabPane:!0,className:S([v.tabs,"cc-card"]),animated:{inkBar:!0,tabPane:!0},children:e(Z,{tab:"H\u1EC7 th\u1ED1ng",value:1,children:e(m,{loading:d,children:e(P,{data:(n==null?void 0:n.current)||[],height:l,itemHeight:50,itemKey:"H\u1EC7 th\u1ED1ng",onScroll:t=>p(t),children:(t,s)=>e(m.Item,{children:e(m.Item.Meta,{avatar:e(Y,{className:S([v.ava]),size:{xs:12,sm:18,md:24,lg:30,xl:36,xxl:42},icon:e(z,{})}),title:`Ng\xE0y kh\u1EDFi t\u1EA1o : ${F(t==null?void 0:t.createdAt).format("HH [gi\u1EDD] mm [ph\xFAt],[ng\xE0y] DD [th\xE1ng] MM [n\u0103m] YYYY")}, Ip Connection: ${t.ip}`,description:e("span",{style:{wordBreak:"break-word"},children:e("pre",{style:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:JSON.stringify(t==null?void 0:t.data,null,4)})})})},s)})})},"1")})})}),e(_,{span:8,style:{paddingLeft:12},children:E(L,{gutter:[0,12],children:[e(_,{span:24,children:e(q,{className:"box__shadow",title:"\u0110\u01A1n h\xE0ng \u0111\xE3 thanh to\xE1n"})}),e(_,{span:24,children:e(q,{className:"box__shadow",title:"\u0110\u01A1n h\xE0ng v\u1EEBa t\u1EA1o"})})]})})]})};export{at as default};
