import{A as T}from"./index.a73b9fb4.js";import{C as r}from"./index.10bd23ed.js";import{a as E,bj as u,R as _,C as f,ad as S,bm as k,ae as y,T as b}from"./index.eab64f24.js";import{A as R}from"./AdminMailService.e600b43f.js";import{r as s,j as e,c as h,F}from"./vendor.e5394fe2.js";import"./MoreOutlined.f695b609.js";import"./index.3b60095b.js";import"./index.41d5f52d.js";import"./index.5156c0d7.js";const A={emailSetting:"/admin/email/setting"},x={getSetting:()=>E.get(A.emailSetting),updateSetting:t=>E.post(A.emailSetting,t)},v="_container_bluch_1",B={container:v},{TabPane:I}=b,P=s.exports.forwardRef((t,c)=>e(u,{onFinish:t==null?void 0:t.passwordSubmit,ref:c,layout:"vertical",children:h(u.Item,{label:e("h3",{children:"\u0110\u1ED5i m\u1EADt kh\u1EA9u"}),children:[h(_,{gutter:[12,16],children:[h(f,{span:8,children:[e(r,{type:"password",name:"old_password",label:"M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i",placeholder:"********"}),e(r,{type:"password",name:"new_password",label:"M\u1EADt kh\u1EA9u m\u1EDBi",placeholder:"********"}),e(r,{type:"password",name:"confirm_password",label:"X\xE1c nh\u1EADn m\u1EADt kh\u1EA9u m\u1EDBi",placeholder:"********"})]}),e(f,{span:16})]}),e(u.Item,{children:e(S,{htmlType:"submit",loading:t==null?void 0:t.loading,type:"primary",children:"X\xE1c nh\u1EADn"})})]})})),j=s.exports.forwardRef((t,c)=>{s.exports.useEffect(()=>{let{_id:n,...o}=t==null?void 0:t.settingMail;if(o)for(let m in o)k([m],o[m]._id,c)},[t]);const l=()=>{let n=[];return n=t.options.map(({_id:o,name:m})=>({value:o,name:m})),n};return e(u,{ref:c,onFinish:t.mailSubmit,layout:"vertical",children:h(u.Item,{label:e("h3",{children:"C\xE0i \u0111\u1EB7t mail"}),children:[e(r,{type:"select",label:"Mail \u0111\u0103ng k\xED",name:"mailRegister",options:l()}),e(r,{type:"select",label:"Mail Qu\xEAn m\u1EADt kh\u1EA9u",name:"mailForgotPass",options:l()}),e(r,{type:"select",label:"Mail h\u1ED3 s\u01A1 sau khi thanh to\xE1n",name:"mailPayment",options:l()}),e(r,{type:"select",label:"Mail Thanh To\xE1n Th\xE0nh C\xF4ng",name:"mailPaymentSuccess",options:l()}),e(u.Item,{children:e(S,{htmlType:"submit",loading:t==null?void 0:t.loading,children:"X\xE1c nh\u1EADn"})})]})})}),J=()=>{const t=s.exports.useRef(),c=s.exports.useRef(),[l,n]=s.exports.useState(!1),[o,m]=s.exports.useState([]),[p,w]=s.exports.useState({});s.exports.useEffect(()=>{C(),g()},[]);const D=a=>{console.log(a)},M=async a=>{try{n(!0);let i=await x.updateSetting({...a});y.success(i.data.message)}catch(i){console.log(i)}finally{g()}},C=async(a=1)=>{n(!0);let i={page:a};try{let d=await R.getTemplate(i);d.data.status===200?m(d.data.data._template):y.error(d.data.message)}catch(d){console.log(d)}finally{n(!1)}},g=async()=>{try{n(!0);let a=await x.getSetting(),{data:i}=a.data;w(i)}catch(a){console.log(a)}finally{n(!1)}};return h(F,{children:[e(T,{title:"C\xE0i \u0111\u1EB7t"}),e(b,{defaultActiveKey:"1",children:[{name:"\u0110\u1ED5i m\u1EADt kh\u1EA9u",content:e(P,{passwordSubmit:D,ref:t,loading:l})},{name:"Mail",content:e(j,{mailSubmit:M,ref:c,options:o,settingMail:p,loading:l})}].map((a,i)=>e(I,{tab:a.name,className:B.container,children:a.content},[a.name,i]))})]})};export{J as default};
