import{u as j,aV as L,bj as o,c as N,R as D,C as i}from"./index.435316fb.js";import{a as d,j as a,d as c,F as G}from"./vendor.aa9f5085.js";import{G as m}from"./GlobalService.f6e3c0be.js";import{s as g}from"./index.a107961d.js";import{S as l}from"./index.2fca498d.js";const K=d.exports.forwardRef((E,f)=>{const{BASE_FORM:h,current:S}=E,[r,p]=d.exports.useState([]),[s,w]=d.exports.useState(null),{status:F,fetchStatus:I,data:u}=j(["career"],async()=>(await m.fetchCareer()).data.data,{enabled:s===1,staleTime:60*1e3,refetchOnWindowFocus:!0}),{data:C,status:R,refetch:k}=L({cacheName:["careerCate"],fn:()=>m.getCareerCategory()});d.exports.useEffect(()=>{u&&F==="success"&&p(u)},[u,s]);const x=(e,n)=>{let t;Array.isArray(n)?t=n.map(({code:_,name:b,value:A})=>({code:_,name:b,value:A})):t={code:n.code,name:n.name,value:n.value},f.current.setFields([{name:e,value:t}])},v=(e,n)=>y(e),y=async e=>{try{let n=await m.getSingleCareerCategory(e),{data:t}=n.data;p(t)}catch(n){console.log(n)}},O=e=>{w(e)};return a(o.Item,{label:a("h2",{children:"Ng\xE0nh ngh\u1EC1 \u0111\u0103ng k\xED kinh doanh"}),className:N([g.hide,E.className,{[g.visible]:S===6}]),children:c(D,{gutter:[16,12],children:[a(i,{span:24,children:a(o.Item,{label:"Vui l\xF2ng ch\u1ECDn",children:c(l,{placeholder:"B\u1EA5m v\xE0o \u0111\xE2y",onChange:O,children:[a(l.Option,{value:1,children:"T\u1EF1 ch\u1ECDn ng\xE0nh ngh\u1EC1"}),a(l.Option,{value:2,children:"Ch\u1ECDn theo l\u0129nh v\u1EF1c \u0111\u1EC1 xu\u1EA5t"})]})})}),s&&s===2&&a(i,{span:24,children:a(o.Item,{label:"Ch\u1ECDn nh\xF3m ng\xE0nh ngh\u1EC1",children:a(l,{showSearch:!0,allowClear:!0,optionFilterProp:"children",filterOption:(e,n)=>n.children.join("").toLowerCase().indexOf(e.toLowerCase())>=0,onChange:v,placeholder:"G\xF5 nh\xF3m ng\xE0nh li\xEAn quan",children:C==null?void 0:C.map(({name:e,_id:n})=>a(l.Option,{value:n,children:e},n))})})}),(r==null?void 0:r.length)>0&&c(G,{children:[a(i,{span:24,children:a(o.Item,{name:[...h,"company_main_career"],label:"Ch\u1ECDn ng\xE0nh ngh\u1EC1 kinh doanh ch\xEDnh",children:a(l,{showSearch:!0,allowClear:!0,optionFilterProp:"children",filterOption:(e,n)=>n.children.join("").toLowerCase().indexOf(e.toLowerCase())>=0,onChange:(e,n)=>x([...h,"company_main_career"],n),placeholder:"G\xF5 t\xEAn ng\xE0nh ho\u1EB7c m\xE3 ng\xE0nh",children:r==null?void 0:r.map(e=>c(l.Option,{value:e._id,code:e.code,name:e.name,children:[e.code," - ",e.name]},e._id))})})}),a(i,{span:24,children:a(o.Item,{name:[...h,"company_opt_career"],label:"Ch\u1ECDn th\xEAm ng\xE0nh ngh\u1EC1 kinh doanh",children:a(l,{showSearch:!0,mode:"multiple",allowClear:!0,style:{width:"100%"},onChange:(e,n)=>x([...h,"company_opt_career"],n),optionFilterProp:"children",placeholder:"G\xF5 t\xEAn ng\xE0nh ho\u1EB7c m\xE3 ng\xE0nh",filterOption:(e,n)=>n.children.join("").toLowerCase().indexOf(e.toLowerCase())>=0,children:r==null?void 0:r.map(e=>c(l.Option,{value:e._id,code:e.code,name:e.name,children:[e.code,"-",e.name]},e._id))})})})]})]})})});export{K as default};
