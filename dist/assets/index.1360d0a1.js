import{r as d,c as p,F as A,j as a}from"./vendor.e5394fe2.js";import{a as m,c as w,ad as D,ae as u}from"./index.eab64f24.js";import{T as r,C as F}from"./index.ede18334.js";import{A as U}from"./index.a73b9fb4.js";import{M as v}from"./index.55ca9bce.js";import"./index.41d5f52d.js";import"./Pagination.afeba8cf.js";import"./index.8c8a84c0.js";import"./getDataOrAriaProps.08708643.js";import"./MoreOutlined.f695b609.js";import"./ActionButton.235e34b5.js";const g={getUser:"/admin/user",deleteUser:"/admin/delete"},h={getUser:i=>m.post(g.getUser,i),deleteUser:i=>m.post(`${g.deleteUser}/${i}`)},b="_inline_1m6qs_1",W="_pagination_1m6qs_12",S="_tableWrapper_1m6qs_18",N="_contentWrapper_1m6qs_31",s={inline:b,pagination:W,tableWrapper:S,contentWrapper:N},O=()=>{const[i,o]=d.exports.useState(!1),[l,x]=d.exports.useState([]);d.exports.useEffect(()=>{c()},[]);const f={current:l.current_page,pageSize:10,total:l.count,onChange:(t,e)=>{c(t)},showSizeChanger:!1},c=async(t=null)=>{try{o(!0);let e={page:t||1},n=await h.getUser(e),{status:C,data:y}=n.data;C===200&&x(y)}catch(e){console.log(e)}finally{o(!1)}},_=t=>{v.confirm({title:"Warning",content:`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a user ${t.name}?`,onOk:E})},E=async t=>{try{o(!0);let e=await h.deleteUser(t._id);e.data.status===200?u.success(e.data.message):u.error(e.data.message)}catch(e){console.log(e)}finally{await c()}};return p(A,{children:[a(U,{title:"Qu\u1EA3n l\xFD ng\u01B0\u1EDDi d\xF9ng"}),p("div",{className:s.contentWrapper,children:[a("div",{className:w([s.tableWrapper,"box__shadow"]),children:p(r,{bordered:!0,size:"small",loading:{spinning:i,tip:"Loading...",delay:100},dataSource:l._user,pagination:!1,rowKey:t=>t._id,children:[a(r.Column,{title:"T\xEAn ng\u01B0\u1EDDi d\xF9ng",className:s.inline,width:"25%",render:(t,e,n)=>e.name}),a(r.Column,{className:s.inline,title:"Email",render:(t,e,n)=>e.email}),a(r.Column,{title:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",width:"120px",className:s.inline,render:(t,e,n)=>e.phone}),a(r.Column,{title:"Role",width:"80px",render:(t,e,n)=>e.role}),a(r.Column,{title:"Ng\xE0y kh\u1EDFi t\u1EA1o",render:(t,e,n)=>a("span",{style:{display:"block",width:150},children:e.createdAt.substring(0,10)})}),a(r.Column,{title:"",width:"80px",render:(t,e,n)=>a(D,{onClick:()=>_(e),children:"X\xF3a"})})]})}),a("div",{className:s.pagination,children:a(F,{...f})})]})]})};export{O as default};
