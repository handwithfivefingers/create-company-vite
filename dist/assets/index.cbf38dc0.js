import{p as k,r as p,k as G,c as d,j as e}from"./vendor.e5394fe2.js";import{G as F,a as f,c as A,aX as H,h as B,az as x,ad as y,ae as I}from"./index.eab64f24.js";import{T as i,C as P}from"./index.ede18334.js";import{T as r}from"./index.5156c0d7.js";import{F as W}from"./FormOutlined.4d08f43e.js";import"./index.41d5f52d.js";import"./Pagination.afeba8cf.js";import"./index.8c8a84c0.js";import"./getDataOrAriaProps.08708643.js";function Y(o){return F({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}}]})(o)}const E={getOrders:"/order",payment:"/payment",career:"/career"},C={getOrders:()=>f.get(E.getOrders),Payment:o=>f.post(E.payment,o)},j="_btnGroup_1vz49_1",L="_orderWrapper_1vz49_20",V="_pagination_1vz49_34",h={btnGroup:j,orderWrapper:L,pagination:V},tt=()=>{const{animateClass:o}=k(),[v,u]=p.exports.useState(!1),[s,_]=p.exports.useState([]),[M,b]=p.exports.useState(1);let w=G();p.exports.useEffect(()=>{z()},[]);const z=async()=>{try{u(!0);let a=await C.getOrders();a.data.status===200?_(a.data.data):console.log(a)}catch(a){console.log(a)}finally{u(!1)}},D=a=>{let t={amount:+(a==null?void 0:a.price)*100,orderInfo:a==null?void 0:a._id};return S(t)},S=async a=>{u(!0);try{const t=await C.Payment(a);t.status===200&&window.open(t.data.url)}catch(t){console.log(t),I.error("something was wrong")}finally{u(!1)}},N=a=>{let{data:t}=a,n=null;for(let l in t)l==="pending"?n="tam-ngung":l==="change_info"?n="thay-doi-thong-tin":l==="dissolution"?n="giai-the":l==="create_company"&&(n="thanh-lap-doanh-nghiep");w(`/user/san-pham/${n}`,{state:{...a}})},O=(a,t,n)=>{var l,m,c,g;if((l=t==null?void 0:t.data)!=null&&l.create_company)return e(r,{color:"#108ee9",children:"Th\xE0nh l\u1EADp doanh nghi\u1EC7p"},[Math.random(),Math.random().toFixed(Math.random()*10)]);if((m=t==null?void 0:t.data)!=null&&m.change_info)return e(r,{color:"#108ee9",children:"Thay \u0111\u1ED5i th\xF4ng tin"},[Math.random(),Math.random().toFixed(Math.random()*10)]);if((c=t==null?void 0:t.data)!=null&&c.pending)return e(r,{color:"#108ee9",children:"T\u1EA1m ho\xE3n"},[Math.random(),Math.random().toFixed(Math.random()*10)]);if((g=t==null?void 0:t.data)!=null&&g.dissolution)return e(r,{color:"#108ee9",children:"Gi\u1EA3i th\u1EC3"},[Math.random(),Math.random().toFixed(Math.random()*10)])},T={current:M,total:s==null?void 0:s.count,showSizeChanger:!1,pageSize:10,onChange:(a,t)=>b(a)};return d("div",{className:A([o,h.orderWrapper]),children:[e("div",{className:"cc-scroll",style:{backgroundColor:"#fff"},children:d(i,{size:"small",bordered:!0,dataSource:s==null?void 0:s._order,loading:{spinning:v,tip:"Loading...",delay:100},rowKey:a=>a._id,pagination:!1,children:[e(i.Column,{align:"center",title:"M\xE3 \u0111\u01A1n h\xE0ng",dataIndex:"per_main",render:(a,t,n)=>t._id}),e(i.Column,{align:"center",title:"Ng\u01B0\u1EDDi \u0111\u0103ng k\xED",render:(a,t,n)=>e("span",{style:{display:"block",width:"150px"},children:t==null?void 0:t.orderOwner.name})}),e(i.Column,{align:"center",title:"D\u1ECBch v\u1EE5",dataIndex:"",render:O}),e(i.Column,{align:"center",title:"Gi\xE1 ti\u1EC1n",render:(a,t,n)=>d("span",{style:{display:"block",width:"150px"},children:[H(t==null?void 0:t.price)," VND"]})}),e(i.Column,{align:"center",title:"Ng\xE0y t\u1EA1o",render:(a,t,n)=>e("span",{style:{display:"block",width:"150px"},children:B(t.createdAt).format("HH:mm DD-MM-YYYY")})}),e(i.Column,{align:"center",title:"Thanh to\xE1n",dataIndex:"",render:(a,t,n)=>(t==null?void 0:t.payment)===1?e(r,{color:"green",children:"\u0110\xE3 thanh to\xE1n"}):e(r,{color:"volcano",children:"Ch\u01B0a thanh to\xE1n"})}),e(i.Column,{align:"center",width:88,render:(a,t,n)=>d("div",{className:h.btnGroup,children:[e(x,{title:"Ch\u1EC9nh s\u1EEDa",color:"blue",placement:"left",children:e(y,{className:h.btn,onClick:()=>N(t),children:e(W,{})})}),e(x,{title:"Thanh to\xE1n",color:"blue",placement:"left",children:e(y,{className:h.btn,type:"primary",disabled:t.payment,onClick:()=>D(t),icon:e(Y,{})})})]})})]})}),e("div",{className:h.pagination,children:e(P,{...T})})]})};export{tt as default};
