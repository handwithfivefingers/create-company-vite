import{a as E,j as u,d as z,F as P}from"./vendor.aa9f5085.js";import{C as O}from"./index.80dc6dfa.js";import{bm as k,bj as T,R as V,C as N,aY as q,ad as D,bz as G,by as H}from"./index.435316fb.js";import{I as J}from"./index.48800feb.js";import{M as K}from"./MinusCircleOutlined.c3065bd3.js";const r=E.exports.forwardRef((C,y)=>{const{BASE_FORM:g,listForm:l,listName:b,btnText:F,formLength:R,defaultLength:d}=C;let w=[{},{},{},{},{}];E.exports.useEffect(()=>{let s=[...g,b],n=w.slice(0,d||1);k(s,n,y)},[C]);const M=(s,n,h)=>{var i,c;let p=s.target.value,a=[...g,b,h,...n==null?void 0:n.name];if((i=n==null?void 0:n.options)!=null&&i.toUpperCase&&(p=p.toUpperCase(),k(a,p,y)),n.options.convertToNumber){let v=[...g,b,h,...(c=n==null?void 0:n.options)==null?void 0:c.fieldsConvert];W(s,a,v)}},j=(s,n)=>{var p,a,i;let h=(a=(p=s.options)==null?void 0:p.compare)==null?void 0:a.index;return h&&h<=n+1?((i=s==null?void 0:s.options)==null?void 0:i.customLabel)+(n+1):s==null?void 0:s.label};let S;const W=(s,n,h)=>{let p=y.current.getFieldValue(n);S&&clearTimeout(S),S=setTimeout(()=>{let a=H(p),i=a.charAt(0).toUpperCase()+a.slice(1);k(h,i,y)},1e3)},Y=(s,n,h)=>{let p=null;return p=s.map((a,i)=>{var U,x,A,B;let{options:c}=a,v=c==null?void 0:c.column,_=c==null?void 0:c.format;switch(a==null?void 0:a.type){case"date":return u(N,{span:v||24,children:u(O,{label:j(a,h),name:[n.name,...a==null?void 0:a.name],type:a==null?void 0:a.type,layout:(U=a==null?void 0:a.options)==null?void 0:U.layout,placeholder:a==null?void 0:a.placeholder},[n.name,i,a==null?void 0:a.name])});case"select":return u(Q,{label:j(a,h),name:[n.name,...a==null?void 0:a.name],type:a==null?void 0:a.type,onChange:a!=null&&a.onChange?L=>M(L,a,h):"",options:a==null?void 0:a.options,layout:(x=a==null?void 0:a.options)==null?void 0:x.layout,placeholder:a==null?void 0:a.placeholder},[n.name,i,a==null?void 0:a.name]);default:return u(N,{span:v||24,children:_?u(T.Item,{label:j(a,h),name:[n.name,...a==null?void 0:a.name],type:a==null?void 0:a.type,onChange:L=>M(L,a,h),layout:(A=a==null?void 0:a.options)==null?void 0:A.layout,children:u(J,{style:{width:"100%"},placeholder:a==null?void 0:a.placeholder,max:c==null?void 0:c.max,min:c==null?void 0:c.min,formatter:c==null?void 0:c.formatter,parser:c==null?void 0:c.parser,length:c==null?void 0:c.length,stringMode:!0})},[n.name,i,...a==null?void 0:a.name]):u(O,{label:j(a,h),name:[n.name,...a==null?void 0:a.name],type:a==null?void 0:a.type,onChange:a!=null&&a.onChange?L=>M(L,a,h):"",layout:(B=a==null?void 0:a.options)==null?void 0:B.layout,placeholder:a==null?void 0:a.placeholder},[n.name,i,...a==null?void 0:a.name])})}}),p};return u(T.Item,{label:u("h4",{children:C==null?void 0:C.label}),children:u(V,{gutter:[16,12],children:l&&u(T.List,{name:[...g,b],children:(s,{add:n,remove:h})=>z(P,{children:[s==null?void 0:s.map((p,a)=>u(P,{children:z(N,{lg:12,md:12,sm:24,xs:24,children:[u(V,{gutter:[16,12],children:Y(l,p,a)}),u(q,{style:{display:"flex",justifyContent:"center"},children:s.length<=(d||1)?"":u(K,{onClick:()=>h(p.name)})})]},[p,a+1])})),s.length>=R?"":u(T.Item,{label:" ",children:u(D,{type:"dashed",onClick:()=>n(),block:!0,icon:u(G,{}),children:F})})]})})})})}),Q=({columnm:C,field:y,formIndex:g,formItem:l,handleRenderLabel:b,fieldIndex:F,handleChange:R})=>{var d;return u(N,{span:column||24,children:u(O,{label:b(l,F),name:[y.name,...l==null?void 0:l.name],type:l==null?void 0:l.type,onChange:l!=null&&l.onChange?w=>R(w,l,F):"",options:l==null?void 0:l.options,layout:(d=l==null?void 0:l.options)==null?void 0:d.layout,placeholder:l==null?void 0:l.placeholder},[y.name,g,l==null?void 0:l.name])})};export{r as C};
