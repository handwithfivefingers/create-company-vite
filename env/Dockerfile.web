# FROM node:20-alpine@sha256:5ffaaf1eed5668f16f2d59130993b6b4e91263ea73d7556e44faa341d7d1c78a
FROM node:18.18.2@sha256:e62671b4e91dcaf9f2cdb7b901aef948946b53ea642dbcba22779f1c602d2f2b

WORKDIR /app

COPY .env .

COPY frontend/package.json .

RUN npm install --loglevel verbose
RUN npm i @rollup/rollup-linux-arm64-gnu

COPY frontend .

EXPOSE 3003

CMD ["npm", "run", "dev"]
