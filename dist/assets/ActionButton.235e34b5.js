import{bg as A,n as O,ad as P,b1 as B}from"./index.eab64f24.js";import{r as s,j as R}from"./vendor.e5394fe2.js";function d(c){return!!(c&&!!c.then)}var S=function(e){var r=s.exports.useRef(!1),f=s.exports.useRef(),m=A(!1),v=O(m,2),h=v[0],l=v[1],a=e.close,i=function(){a==null||a.apply(void 0,arguments)};s.exports.useEffect(function(){var u;if(e.autoFocus){var t=f.current;u=setTimeout(function(){return t.focus()})}return function(){u&&clearTimeout(u)}},[]);var x=function(t){!d(t)||(l(!0),t.then(function(){l(!1,!0),i.apply(void 0,arguments),r.current=!1},function(n){console.error(n),l(!1,!0),r.current=!1}))},C=function(t){var n=e.actionFn;if(!r.current){if(r.current=!0,!n){i();return}var o;if(e.emitEvent){if(o=n(t),e.quitOnNullishReturnValue&&!d(o)){r.current=!1,i(t);return}}else if(n.length)o=n(a),r.current=!1;else if(o=n(),!o){i();return}x(o)}},g=e.type,k=e.children,y=e.prefixCls,b=e.buttonProps;return R(P,{...B(g),onClick:C,loading:h,prefixCls:y,...b,ref:f,children:k})};const I=S;export{I as A};
