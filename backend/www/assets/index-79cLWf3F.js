import{r as a,ae as m,j as e,ak as z,F as T,bp as B,o as g,c as G,R as w,C as M,h as V,l as q,b as J,bR as S,al as $,a as H,B as b}from"./index-XD4JDM6b.js";import{V as U}from"./InputValidate-jV_t71oq.js";import{P as W}from"./index-_FO-_LC5.js";const X="_hide_ajnik_1",Z="_visible_ajnik_10",ee="_groupInput_ajnik_24",te="_titleSubForm_ajnik_31",ae="_label_ajnik_37",ne="_title_ajnik_31",L={hide:X,visible:Z,groupInput:ee,titleSubForm:te,label:ae,title:ne},se=a.lazy(()=>m(()=>import("./index-z_87Scut.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(({default:r})=>({default:a.forwardRef((t,o)=>e.jsx(r,{ref:o,...t}))}))),re=a.lazy(()=>m(()=>import("./index-ctJbR9o0.js"),__vite__mapDeps([9,1,2,6,7,8,10])).then(({default:r})=>({default:a.forwardRef((t,o)=>e.jsx(r,{ref:o,...t}))}))),oe=a.lazy(()=>m(()=>import("./index-yNFrFR-g.js"),__vite__mapDeps([11,1,2,12]))),ie=a.lazy(()=>m(()=>import("./index-RlgPcVVM.js"),__vite__mapDeps([13,1,2,14,15,3,4,16,5,6,7,8])).then(({default:r})=>({default:a.forwardRef((t,o)=>e.jsx(r,{ref:o,...t}))}))),le=a.lazy(()=>m(()=>import("./index-rvQ2MEjV.js"),__vite__mapDeps([17,1,2,7,8,5,6])).then(({default:r})=>({default:a.forwardRef((t,o)=>e.jsx(r,{ref:o,...t}))}))),ce=a.lazy(async()=>m(()=>import("./index-KfRP1mEl.js"),__vite__mapDeps([18,1,2,3,4,15,14,16,19])).then(({default:r})=>({default:a.forwardRef((t,o)=>e.jsx(r,{ref:o,...t}))}))),Y=["create_company","approve"],O="animate__animated animate__fadeIn animate__faster",pe=a.forwardRef(({data:r},t)=>{const[o,v]=a.useState(),{currentStep:p}=z(),[C]=T.useForm(),[y,D]=a.useState(!1);let d=B();a.useEffect(()=>{d!=null&&d.state&&E()},[d]);const E=()=>{var c;let{state:i}=d,s={},{category:n,data:l}=i;if(n){if(s.category={type:n.type,value:n._id,name:n.name},l){let _=(c=JSON.parse(JSON.stringify(l)).create_company)==null?void 0:c.approve;if(_){let{origin_person:u,company_opt_career:N,legal_respon:ue}=_;u&&(u=u==null?void 0:u.map(({birth_day:F,doc_time_provide:I,doc_outdate:R,organization:P,...Q})=>{let h={...Q};return R&&(h.doc_outdate=g(R,"YYYY-MM-DD")),F&&(h.birth_day=g(F,"YYYY-MM-DD")),I&&(h.doc_time_provide=g(I,"YYYY-MM-DD")),P&&(h.organization={...P,doc_time_provide:g(P.doc_time_provide,"YYYY-MM-DD")}),h})),N&&(_.company_opt_career_mirror=N),_.origin_person=u,delete _.legal_respon}s.create_company={approve:_}}t.current.setFieldsValue({...s}),v({type:n.type,value:n._id,name:n.name}),D(!y)}},f=(i,s,n)=>{let{type:l,name:c,value:j}=s;S([n],{type:l,name:c,value:j},t);let _=[...Y,"origin_person"],u=[...Y,"legal_respon"];S([n],{type:l,name:c,value:j},t),S([_],void 0,t),S([u],void 0,t),v({type:l,name:c,value:j})},x=a.useMemo(()=>{let i=null;const s=[re,ce,ie,le,se,oe],n={BASE_FORM:Y,ref:t,className:O,data:o};return i=s.map((l,c)=>e.jsx(w,{children:e.jsx(M,{span:24,children:e.jsx(l,{...n})})},[n,c])),i},[o,y]),k=G([L.hide,{[L.visible]:p===0}]);return e.jsxs(T,{layout:"vertical",ref:t,autoComplete:"off",validateMessages:U,form:C,children:[e.jsx(w,{className:k,children:e.jsx(M,{span:24,children:e.jsx(T.Item,{name:["category"],label:"Chọn loại hình doanh nghiệp",placeholder:"Bấm vào đây",className:O,required:!0,rules:[{required:!0}],children:e.jsx(V,{placeholder:"Bấm vào đây",onChange:(i,s)=>f(i,s,["category"]),children:r==null?void 0:r.map(i=>e.jsx(V.Option,{value:i._id,...i,children:i.name},i._id))})})})}),e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"container spin-suspense",children:e.jsx(q,{align:"center",children:e.jsx(J,{spinning:!0,tip:"Loading..."})})}),children:x})]})}),de="_btnSave_1xj3k_1",_e="_active_1xj3k_6",A={btnSave:de,active:_e},K=a.forwardRef((r,t)=>{const{onNextStep:o,onPrevStep:v}=$(),{currentStep:p}=z(),{saveService:C,paymentService:y,data:D,loading:d,onFinishScreen:E}=r,f=B(),x=s=>{var c;const l={data:{...s.current.getFieldsValue()}};return(c=f.state)!=null&&c._id&&(l._id=f.state._id),l},k=s=>{const n=x(s);return C(n)},i=s=>{const n=x(s);return y(n,s)};return e.jsx(H,{className:"card-boxShadow card-scrollTop",children:e.jsxs(a.Suspense,{fallback:e.jsx("div",{className:"container spin-suspense",children:e.jsx(q,{align:"center",children:e.jsx(J,{spinning:!0,tip:"Loading..."})})},"create_company_page_suspense"),children:[e.jsx(pe,{data:D,ref:t,onFinishScreen:E,step:p}),e.jsx(W,{ref:t,active:p===7},["preview","change_info",7]),e.jsxs("div",{className:"card-boxShadow flex flex__spacing-4",style:{position:"sticky",top:0},children:[p>0&&e.jsx(b,{onClick:v,type:"dashed",children:"Quay lại"}),p<7&&e.jsx(b,{onClick:o,type:"primary",children:"Tiếp tục"}),p===7&&e.jsx(b,{loading:d,onClick:()=>i(t),type:"primary",children:"Thanh toán"}),e.jsx(b,{loading:d,onClick:()=>k(t),className:G(A.btnSave,{[A.active]:p>0}),type:"primary",style:{background:"var(--ant-info-color)",borderColor:"var(--ant-info-color)"},children:"Lưu lại"})]})]})})});K.displayName="CreateCompanyPages";const ye=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{ye as i,L as s};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-z_87Scut.js","assets/index-XD4JDM6b.js","assets/index-vhdyNjOD.css","assets/index-gQ4A6Ldr.js","assets/index-JHt_Cpp5.css","assets/InputValidate-jV_t71oq.js","assets/index-_FO-_LC5.js","assets/index-52Xb7zQV.js","assets/index-n04DYP7D.css","assets/index-ctJbR9o0.js","assets/index-wqbwnw19.css","assets/index-yNFrFR-g.js","assets/index-sloOh5wQ.css","assets/index-RlgPcVVM.js","assets/index-7vcF2zEs.js","assets/Common-NVt6K1ML.js","assets/MinusCircleOutlined-OyZX2Wh6.js","assets/index-rvQ2MEjV.js","assets/index-KfRP1mEl.js","assets/index-p0dcJRiJ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}