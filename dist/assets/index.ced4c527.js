import{a_ as xe,H as q,j as W,k as B,aU as ge,a$ as be,Y as L,L as J,b0 as K,N as ye,ad as G,b1 as ke,b2 as he,V as u,e as I,b3 as Pe,b4 as Te,b5 as U,b6 as we,b7 as Oe,b8 as Ne,b9 as Se,n as E,aA as Fe}from"./index.435316fb.js";import{a as v,j as i,d as j,F as Z}from"./vendor.aa9f5085.js";import{A as V}from"./ActionButton.d80b0dbc.js";var Re=globalThis&&globalThis.__rest||function(n,e){var o={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(o[t[r]]=n[t[r]]);return o},Q,pe=function(e){Q={x:e.pageX,y:e.pageY},setTimeout(function(){Q=null},100)};xe()&&document.documentElement.addEventListener("click",pe,!0);var ee=function(e){var o,t=v.exports.useContext(q),r=t.getPopupContainer,l=t.getPrefixCls,x=t.direction,a=function(R){var w=e.onCancel;w==null||w(R)},f=function(R){var w=e.onOk;w==null||w(R)},d=function(R){var w=e.okText,H=e.okType,O=e.cancelText,D=e.confirmLoading;return j(Z,{children:[i(G,{onClick:a,...e.cancelButtonProps,children:O||R.cancelText}),i(G,{...ke(H),loading:D,onClick:f,...e.okButtonProps,children:w||R.okText})]})},s=e.prefixCls,c=e.footer,k=e.visible,g=e.open,h=e.wrapClassName,b=e.centered,C=e.getContainer,y=e.closeIcon,T=e.focusTriggerAfterClose,P=T===void 0?!0:T,N=Re(e,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),m=l("modal",s),F=l(),$=i(J,{componentName:"Modal",defaultLocale:K(),children:d}),p=i("span",{className:"".concat(m,"-close-x"),children:y||i(ye,{className:"".concat(m,"-close-icon")})}),z=W(h,(o={},B(o,"".concat(m,"-centered"),!!b),B(o,"".concat(m,"-wrap-rtl"),x==="rtl"),o));return i(ge,{status:!0,override:!0,children:i(be,{...N,getContainer:C===void 0?r:C,prefixCls:m,wrapClassName:z,footer:c===void 0?$:c,visible:g||k,mousePosition:Q,onClose:a,closeIcon:p,focusTriggerAfterClose:P,transitionName:L(F,"zoom",e.transitionName),maskTransitionName:L(F,"fade",e.maskTransitionName)})})};ee.defaultProps={width:520,confirmLoading:!1,open:!1,okType:"primary"};const ne=ee;var Ae=function(e){var o=e.icon,t=e.onCancel,r=e.onOk,l=e.close,x=e.zIndex,a=e.afterClose,f=e.visible,d=e.open,s=e.keyboard,c=e.centered,k=e.getContainer,g=e.maskStyle,h=e.okText,b=e.okButtonProps,C=e.cancelText,y=e.cancelButtonProps,T=e.direction,P=e.prefixCls,N=e.wrapClassName,m=e.rootPrefixCls,F=e.iconPrefixCls,$=e.bodyStyle,p=e.closable,z=p===void 0?!1:p,M=e.closeIcon,R=e.modalRender,w=e.focusTriggerAfterClose,H=e.okType||"primary",O="".concat(P,"-confirm"),D="okCancel"in e?e.okCancel:!0,ue=e.width||416,fe=e.style||{},de=e.mask===void 0?!0:e.mask,Ce=e.maskClosable===void 0?!1:e.maskClosable,Y=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",me=W(O,"".concat(O,"-").concat(e.type),B({},"".concat(O,"-rtl"),T==="rtl"),e.className),ve=D&&i(V,{actionFn:t,close:l,autoFocus:Y==="cancel",buttonProps:y,prefixCls:"".concat(m,"-btn"),children:C});return i(he,{prefixCls:m,iconPrefixCls:F,direction:T,children:i(ne,{prefixCls:P,className:me,wrapClassName:W(B({},"".concat(O,"-centered"),!!e.centered),N),onCancel:function(){return l==null?void 0:l({triggerCancel:!0})},open:d||f,title:"",footer:"",transitionName:L(m,"zoom",e.transitionName),maskTransitionName:L(m,"fade",e.maskTransitionName),mask:de,maskClosable:Ce,maskStyle:g,style:fe,bodyStyle:$,width:ue,zIndex:x,afterClose:a,keyboard:s,centered:c,getContainer:k,closable:z,closeIcon:M,modalRender:R,focusTriggerAfterClose:w,children:j("div",{className:"".concat(O,"-body-wrapper"),children:[j("div",{className:"".concat(O,"-body"),children:[o,e.title===void 0?null:i("span",{className:"".concat(O,"-title"),children:e.title}),i("div",{className:"".concat(O,"-content"),children:e.content})]}),j("div",{className:"".concat(O,"-btns"),children:[ve,i(V,{type:H,actionFn:r,close:l,autoFocus:Y==="ok",buttonProps:b,prefixCls:"".concat(m,"-btn"),children:h})]})]})})})};const te=Ae;var Ie=[];const A=Ie;var $e=globalThis&&globalThis.__rest||function(n,e){var o={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(o[t[r]]=n[t[r]]);return o},oe="";function Ee(){return oe}function _(n){var e=document.createDocumentFragment(),o=u(u({},n),{close:l,open:!0});function t(){for(var a=arguments.length,f=new Array(a),d=0;d<a;d++)f[d]=arguments[d];var s=f.some(function(g){return g&&g.triggerCancel});n.onCancel&&s&&n.onCancel.apply(n,[function(){}].concat(I(f.slice(1))));for(var c=0;c<A.length;c++){var k=A[c];if(k===l){A.splice(c,1);break}}Pe(e)}function r(a){var f=a.okText,d=a.cancelText,s=a.prefixCls,c=a.open,k=a.visible,g=$e(a,["okText","cancelText","prefixCls","open","visible"]);setTimeout(function(){var h=K(),b=Se(),C=b.getPrefixCls,y=b.getIconPrefixCls,T=C(void 0,Ee()),P=s||"".concat(T,"-modal"),N=y();Te(i(te,{...g,open:c!=null?c:k,prefixCls:P,rootPrefixCls:T,iconPrefixCls:N,okText:f||(g.okCancel?h.okText:h.justOkText),cancelText:d||h.cancelText}),e)})}function l(){for(var a=this,f=arguments.length,d=new Array(f),s=0;s<f;s++)d[s]=arguments[s];o=u(u({},o),{open:!1,afterClose:function(){typeof n.afterClose=="function"&&n.afterClose(),t.apply(a,d)}}),r(o)}function x(a){typeof a=="function"?o=a(o):o=u(u({},o),a),r(o)}return r(o),A.push(l),{destroy:l,update:x}}function re(n){return u(u({icon:i(U,{}),okCancel:!1},n),{type:"warning"})}function ae(n){return u(u({icon:i(we,{}),okCancel:!1},n),{type:"info"})}function ce(n){return u(u({icon:i(Oe,{}),okCancel:!1},n),{type:"success"})}function le(n){return u(u({icon:i(Ne,{}),okCancel:!1},n),{type:"error"})}function ie(n){return u(u({icon:i(U,{}),okCancel:!0},n),{type:"confirm"})}function _e(n){var e=n.rootPrefixCls;oe=e}function Me(){var n=v.exports.useState([]),e=E(n,2),o=e[0],t=e[1],r=v.exports.useCallback(function(l){return t(function(x){return[].concat(I(x),[l])}),function(){t(function(x){return x.filter(function(a){return a!==l})})}},[]);return[o,r]}var je=function(e,o){var t=e.afterClose,r=e.config,l=v.exports.useState(!0),x=E(l,2),a=x[0],f=x[1],d=v.exports.useState(r),s=E(d,2),c=s[0],k=s[1],g=v.exports.useContext(q),h=g.direction,b=g.getPrefixCls,C=b("modal"),y=b(),T=function(){f(!1);for(var N=arguments.length,m=new Array(N),F=0;F<N;F++)m[F]=arguments[F];var $=m.some(function(p){return p&&p.triggerCancel});c.onCancel&&$&&c.onCancel.apply(c,[function(){}].concat(I(m.slice(1))))};return v.exports.useImperativeHandle(o,function(){return{destroy:T,update:function(N){k(function(m){return u(u({},m),N)})}}}),i(J,{componentName:"Modal",defaultLocale:Fe.Modal,children:function(P){return i(te,{prefixCls:C,rootPrefixCls:y,...c,close:T,open:a,afterClose:t,okText:c.okText||(c.okCancel?P.okText:P.justOkText),direction:h,cancelText:c.cancelText||P.cancelText})}})};const Be=v.exports.forwardRef(je);var X=0,Le=v.exports.memo(v.exports.forwardRef(function(n,e){var o=Me(),t=E(o,2),r=t[0],l=t[1];return v.exports.useImperativeHandle(e,function(){return{patchElement:l}},[]),i(Z,{children:r})}));function ze(){var n=v.exports.useRef(null),e=v.exports.useState([]),o=E(e,2),t=o[0],r=o[1];v.exports.useEffect(function(){if(t.length){var a=I(t);a.forEach(function(f){f()}),r([])}},[t]);var l=v.exports.useCallback(function(a){return function(d){var s;X+=1;var c=v.exports.createRef(),k,g=i(Be,{config:a(d),ref:c,afterClose:function(){k()}},"modal-".concat(X));return k=(s=n.current)===null||s===void 0?void 0:s.patchElement(g),{destroy:function(){function b(){var C;(C=c.current)===null||C===void 0||C.destroy()}c.current?b():r(function(C){return[].concat(I(C),[b])})},update:function(b){function C(){var y;(y=c.current)===null||y===void 0||y.update(b)}c.current?C():r(function(y){return[].concat(I(y),[C])})}}}},[]),x=v.exports.useMemo(function(){return{info:l(ae),success:l(ce),error:l(le),warning:l(re),confirm:l(ie)}},[]);return[x,i(Le,{ref:n})]}function se(n){return _(re(n))}var S=ne;S.useModal=ze;S.info=function(e){return _(ae(e))};S.success=function(e){return _(ce(e))};S.error=function(e){return _(le(e))};S.warning=se;S.warn=se;S.confirm=function(e){return _(ie(e))};S.destroyAll=function(){for(;A.length;){var e=A.pop();e&&e()}};S.config=_e;const Ye=S;export{Ye as M};
